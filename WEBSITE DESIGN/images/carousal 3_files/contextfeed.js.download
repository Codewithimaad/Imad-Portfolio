(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{pr:()=>xr});var t=function(e,t,n,r,s){var i="https://".concat(e,"/cgi-bin/pixeltrack.pl?action=")+s;t&&(i+="&smartad_id=".concat(t)),n&&(i+="&context_id=".concat(n)),r&&(i+="&cf=".concat(encodeURIComponent(r))),navigator.sendBeacon(i)},n=function(e){Math.random()<.01&&e()};const r={notify:t,notify_context:function(e,r,s,i){n((function(){return t(e,null,r,s,i)}))},notify_smartad:function(e,r,s){n((function(){return t(e,r,null,null,s)}))}};var s;!function(e){e.NoTcData="tcf_blank",e.NoPermissions="tcf_no_permissions"}(s||(s={}));var i={CONTEXT_NOT_LOADED:"0",CONTEXT_LOADED:"1",LAZY_LOADING_ENABLED:"1",LAZY_LOADING_ROOT_MARGIN:"100",STICKY_AD:"1",PARTNER_TCF_STATUS:"2.0"};function o(e,t,n,r){var s,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=e.frameDocument,a=o.createElement("div");a.classList.add("dianomi-sticky-div"),a.style.position="fixed",a.style.bottom=null!==(s=n.stickyOffsetBottom)&&void 0!==s?s:"0",a.style.left="0",a.style.width="100%",a.style.zIndex="9999999999";var c=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=e.createElement("div");s.style.position="absolute",s.style.right="16px",s.style.bottom="0",s.style.height="auto";var i=e.createElement("a");i.href="https://".concat(t,"/whatsthis.pl?id=").concat(n),i.target="_blank",i.rel="nofollow";var o=e.createElement("img");if(o.style.height="auto",o.style.width="30px",o.src="https://".concat(t,"/img/dianomi/dianomi-ad-tag-Grey.png"),i.append(o),s.append(i),r){var a=e.createElement("a");a.href="https://".concat(t,"/legal/privacy.epl"),a.target="_blank",a.style.marginLeft="5px";var c=e.createElement("img");c.src="https://".concat(t,"/img/YAC_Icon.png"),c.alt="ad choices logo",c.style.height="12px",c.style.width="12px",a.append(c),s.append(a)}return s}(o,t,r,i);a.appendChild(c);var l=function(e,t,n,r){var s=e.frameDocument,i=e.frameWindow,o=s.createElement("div");o.style.position="absolute",o.style.right="12px",o.style.top="-12px",o.style.width="30px",o.style.height="auto",o.style.cursor="pointer";var a=s.createElement("img");return a.id="sticky-dianomi-close",a.loading="eager",a.style.height="auto",a.style.width="100%",a.src="https://".concat(n,"/img/dianomi/dianomi-ad-tag-X2.png"),a.onclick=function(){var e="https://".concat(n,"/cgi-bin/pixeltrack.pl?action=close&id=").concat(r,"&href=").concat(encodeURIComponent(i.location.href));console.log(i.location);var s=new XMLHttpRequest;s.open("GET",e,!0),s.send(),t.remove()},o.append(a),o}(e,a,t,r);return a.appendChild(l),a}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){a=!0,s=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw s}}return i}}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}var u,d={id:"data-dianomi-context-id",done:"data-dianomi-context-done",host:{attribute:"data-dianomi-context-hostname",default:"www.dianomi.com",allowedValues:["www.dianomi.com","dev.dianomi.com"]},endpoint:{attribute:"data-dianomi-context-endpoint",default:"context.pl",allowedValues:["context.pl","bidcore-context.pl"]},affiliate:"data-dianomi-context-affiliate",cfTest:"data-dianomi-cf-test",clickMacro:"data-dianomi-click-macro",consent:"data-dianomi-consent",darkmodeOverride:"data-dianomi-darkmode-override",pageDomain:"data-dianomi-page-domain",referrer:"data-referrer-url",topProductId:"data-dianomi-top-product-id",trafficSource:"data-dianomi-traffic-source"},p=(u=d,Object.keys(u).map((function(e){var t=u[e];return"string"==typeof t?t:t.attribute})));function h(e,t,n){t.mobileHeight&&n<480?e.style.height=t.mobileHeight:t.tabletHeight&&n<769&&n>=480?e.style.height=t.tabletHeight:t.height&&(e.style.height=t.height)}function S(e,t,n){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];arguments.length>3&&void 0!==arguments[3]&&arguments[3]&&!t.nativeUnit?n<480?(e.style.padding="0",e.style.width=t.mobileWidthSM||t.mobileWidth||"",e.style.margin="0 auto"):t.mobileWidth&&n<580?(e.style.padding="0",e.style.width=t.mobileWidth):t.tabletWidth&&n<769&&n>=580?(e.style.padding="0",e.style.width=t.tabletWidth):t.width&&(e.style.width=t.width):r?e.style.width="100%":t.mobileWidthSM&&n<480?e.style.width=t.mobileWidthSM||t.mobileWidth||"":t.mobileWidth&&n<580?e.style.width=t.mobileWidth:t.tabletWidth&&n<769&&n>=580?e.style.width=t.tabletWidth:t.width&&(e.style.width=t.width)}function g(e,t,n){t.mobileFloat&&n<480?e.style.cssFloat=t.mobileFloat:t.float&&(e.style.cssFloat=t.float)}function E(e){return e.parent.innerWidth||e.parent.document.documentElement.clientWidth}function f(e,t){(e.parent||e).addEventListener("resize",(function(){t(),T(e,"resize")}),!1)}var _,m,I,v,O={collapse:"dianomi-parent-collapse",resize:"dianomi-parent-resize"};function T(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.parent.postMessage({type:O[t],frameId:n},"*")}function N(e,t){return e&&(n=t.allowedValues,function(e){if(Array.isArray(e))return a(e)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||l(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([t.default]).includes(e)?e:t.default;var n}function A(e,t,n){return"dianomi-".concat(e.id,"-").concat(n.unique_id).concat(t)}function y(e,t){return e.some((function(e){return C(e,t)}))}function C(e,t){return t.type===e}function b(e,t,n){t.lazy&&t.lazy===i.LAZY_LOADING_ENABLED?(e.className="lazy dianomiLazy",e.setAttribute("data-src",n)):e.setAttribute("src",n)}function w(e,t){if(t){var n=!0,r=!1,s=void 0;try{for(var i,o=Object.entries(t)[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var a=c(i.value,2),l=a[0],u=a[1];e.style[l]=u}}catch(e){r=!0,s=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw s}}}}function P(e,t){return t?"".concat(arguments.length>2&&void 0!==arguments[2]&&arguments[2]?"?":"&").concat(e,"=").concat(encodeURIComponent(t)):""}function D(){try{return window.top||window.parent||window}catch(e){return window}}function R(e){var t={},n=!1;return e.forEach((function(e,r){var s,i,o;if(C("smartad",e)&&((null==e||null===(i=e.args)||void 0===i?void 0:i.responsiveHeight)||"1"===(null==e||null===(o=e.args)||void 0===o?void 0:o.closeIfEmpty))&&(n=!0),C("recirc",e)&&(null==e||null===(s=e.args)||void 0===s?void 0:s.responsiveHeight)&&(n=!0),C("cfWaterfall",e))t["cfWaterfall-".concat(r)]=e;else if(y(["smartad","video"],e)){var a,c,l;if((null==e||null===(a=e.args)||void 0===a?void 0:a.nativeUnit)&&t["native-".concat(null==e||null===(c=e.args)||void 0===c?void 0:c.nativeUnit)]){var u=t["native-".concat(e.args.nativeUnit)];C("native",u)&&u.units.push(e)}else(null==e||null===(l=e.args)||void 0===l?void 0:l.nativeUnit)?t["native-".concat(e.args.nativeUnit)]={type:"native",units:[e]}:t["smartad-".concat(e.args.id,"-").concat(r)]=e}else t["other-".concat(r)]=e})),{responsiveHeight:n,units:t}}function V(e,t,n,r){var s=e;s.style.maxWidth="100%",s.style.minHeight="1px",t.scrolling&&(s.style.overflow=t.scrolling),t.minWidth&&(s.style.minWidth=t.minWidth),t.margin&&(s.style.margin=t.margin),t.maxWidth&&(s.style.maxWidth=t.maxWidth),s.style.border="none",s.style.overflow="hidden";var i=E(r);return S(s,t,i,!1,n),g(s,t,i),h(s,t,i),s}class L extends Error{constructor(e){super(e),this.name="DecodingError"}}class M extends Error{constructor(e){super(e),this.name="EncodingError"}}class U extends Error{constructor(e){super(e),this.name="GVLError"}}class x extends Error{constructor(e,t,n=""){super(`invalid value ${t} passed for ${e} ${n}`),this.name="TCModelError"}}class G{static DICT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";static REVERSE_DICT=new Map([["A",0],["B",1],["C",2],["D",3],["E",4],["F",5],["G",6],["H",7],["I",8],["J",9],["K",10],["L",11],["M",12],["N",13],["O",14],["P",15],["Q",16],["R",17],["S",18],["T",19],["U",20],["V",21],["W",22],["X",23],["Y",24],["Z",25],["a",26],["b",27],["c",28],["d",29],["e",30],["f",31],["g",32],["h",33],["i",34],["j",35],["k",36],["l",37],["m",38],["n",39],["o",40],["p",41],["q",42],["r",43],["s",44],["t",45],["u",46],["v",47],["w",48],["x",49],["y",50],["z",51],["0",52],["1",53],["2",54],["3",55],["4",56],["5",57],["6",58],["7",59],["8",60],["9",61],["-",62],["_",63]]);static BASIS=6;static LCM=24;static encode(e){if(!/^[0-1]+$/.test(e))throw new M("Invalid bitField");const t=e.length%this.LCM;e+=t?"0".repeat(this.LCM-t):"";let n="";for(let t=0;t<e.length;t+=this.BASIS)n+=this.DICT[parseInt(e.substr(t,this.BASIS),2)];return n}static decode(e){if(!/^[A-Za-z0-9\-_]+$/.test(e))throw new L("Invalidly encoded Base64URL string");let t="";for(let n=0;n<e.length;n++){const r=this.REVERSE_DICT.get(e[n]).toString(2);t+="0".repeat(this.BASIS-r.length)+r}return t}}class k{static langSet=new Set(["BG","CA","CS","DA","DE","EL","EN","ES","ET","FI","FR","HR","HU","IT","JA","LT","LV","MT","NL","NO","PL","PT","RO","RU","SK","SL","SV","TR","ZH"]);has(e){return k.langSet.has(e)}forEach(e){k.langSet.forEach(e)}get size(){return k.langSet.size}}class F{static cmpId="cmpId";static cmpVersion="cmpVersion";static consentLanguage="consentLanguage";static consentScreen="consentScreen";static created="created";static supportOOB="supportOOB";static isServiceSpecific="isServiceSpecific";static lastUpdated="lastUpdated";static numCustomPurposes="numCustomPurposes";static policyVersion="policyVersion";static publisherCountryCode="publisherCountryCode";static publisherCustomConsents="publisherCustomConsents";static publisherCustomLegitimateInterests="publisherCustomLegitimateInterests";static publisherLegitimateInterests="publisherLegitimateInterests";static publisherConsents="publisherConsents";static publisherRestrictions="publisherRestrictions";static purposeConsents="purposeConsents";static purposeLegitimateInterests="purposeLegitimateInterests";static purposeOneTreatment="purposeOneTreatment";static specialFeatureOptins="specialFeatureOptins";static useNonStandardStacks="useNonStandardStacks";static vendorConsents="vendorConsents";static vendorLegitimateInterests="vendorLegitimateInterests";static vendorListVersion="vendorListVersion";static vendorsAllowed="vendorsAllowed";static vendorsDisclosed="vendorsDisclosed";static version="version"}class H{clone(){const e=new this.constructor;return Object.keys(this).forEach((t=>{const n=this.deepClone(this[t]);void 0!==n&&(e[t]=n)})),e}deepClone(e){const t=typeof e;if("number"===t||"string"===t||"boolean"===t)return e;if(null!==e&&"object"===t){if("function"==typeof e.clone)return e.clone();if(e instanceof Date)return new Date(e.getTime());if(void 0!==e[Symbol.iterator]){const t=[];for(const n of e)t.push(this.deepClone(n));return e instanceof Array?t:new e.constructor(t)}{const t={};for(const n in e)e.hasOwnProperty(n)&&(t[n]=this.deepClone(e[n]));return t}}}}!function(e){e[e.NOT_ALLOWED=0]="NOT_ALLOWED",e[e.REQUIRE_CONSENT=1]="REQUIRE_CONSENT",e[e.REQUIRE_LI=2]="REQUIRE_LI"}(_||(_={}));class B extends H{static hashSeparator="-";purposeId_;restrictionType;constructor(e,t){super(),void 0!==e&&(this.purposeId=e),void 0!==t&&(this.restrictionType=t)}static unHash(e){const t=e.split(this.hashSeparator),n=new B;if(2!==t.length)throw new x("hash",e);return n.purposeId=parseInt(t[0],10),n.restrictionType=parseInt(t[1],10),n}get hash(){if(!this.isValid())throw new Error("cannot hash invalid PurposeRestriction");return`${this.purposeId}${B.hashSeparator}${this.restrictionType}`}get purposeId(){return this.purposeId_}set purposeId(e){this.purposeId_=e}isValid(){return Number.isInteger(this.purposeId)&&this.purposeId>0&&(this.restrictionType===_.NOT_ALLOWED||this.restrictionType===_.REQUIRE_CONSENT||this.restrictionType===_.REQUIRE_LI)}isSameAs(e){return this.purposeId===e.purposeId&&this.restrictionType===e.restrictionType}}class j extends H{root=null;getRoot(){return this.root}isEmpty(){return!this.root}add(e){const t={value:e,left:null,right:null};let n;if(this.isEmpty())this.root=t;else for(n=this.root;;)if(e<n.value){if(null===n.left){n.left=t;break}n=n.left}else{if(!(e>n.value))break;if(null===n.right){n.right=t;break}n=n.right}}get(){const e=[];let t=this.root;for(;t;)if(t.left){let n=t.left;for(;n.right&&n.right!=t;)n=n.right;n.right==t?(n.right=null,e.push(t.value),t=t.right):(n.right=t,t=t.left)}else e.push(t.value),t=t.right;return e}contains(e){let t=!1,n=this.root;for(;n;){if(n.value===e){t=!0;break}e>n.value?n=n.right:e<n.value&&(n=n.left)}return t}min(e=this.root){let t;for(;e;)e.left?e=e.left:(t=e.value,e=null);return t}max(e=this.root){let t;for(;e;)e.right?e=e.right:(t=e.value,e=null);return t}remove(e,t=this.root){let n=null,r="left";for(;t;)if(e<t.value)n=t,t=t.left,r="left";else if(e>t.value)n=t,t=t.right,r="right";else{if(t.left||t.right)if(t.left)if(t.right){const e=this.min(t.right);this.remove(e,t.right),t.value=e}else n?n[r]=t.left:this.root=t.left;else n?n[r]=t.right:this.root=t.right;else n?n[r]=null:this.root=null;t=null}}static build(e){if(e&&0!==e.length){if(1===e.length){const t=new j;return t.add(e[0]),t}{const t=e.length>>1,n=new j;n.add(e[t]);const r=n.getRoot();if(r){if(t+1<e.length){const n=j.build(e.slice(t+1));r.right=n?n.getRoot():null}if(t-1>0){const n=j.build(e.slice(0,t-1));r.left=n?n.getRoot():null}}return n}}return null}}class W extends H{bitLength=0;map=new Map;gvl_;has(e){return this.map.has(e)}isOkToHave(e,t,n){let r=!0;if(this.gvl?.vendors){const s=this.gvl.vendors[n];if(s)if(e===_.NOT_ALLOWED)r=s.legIntPurposes.includes(t)||s.purposes.includes(t);else if(s.flexiblePurposes.length)switch(e){case _.REQUIRE_CONSENT:r=s.flexiblePurposes.includes(t)&&s.legIntPurposes.includes(t);break;case _.REQUIRE_LI:r=s.flexiblePurposes.includes(t)&&s.purposes.includes(t)}else r=!1;else r=!1}return r}add(e,t){if(this.isOkToHave(t.restrictionType,t.purposeId,e)){const n=t.hash;this.has(n)||(this.map.set(n,new j),this.bitLength=0),this.map.get(n).add(e)}}restrictPurposeToLegalBasis(e){const t=this.gvl.vendorIds,n=e.hash,r=function(){let e;for(e of t);return e}(),s=[...Array(r).keys()].map((e=>e+1));for(let e=1;e<=r;e++)this.has(n)||(this.map.set(n,j.build(s)),this.bitLength=0),this.map.get(n).add(e)}getVendors(e){let t=[];if(e){const n=e.hash;this.has(n)&&(t=this.map.get(n).get())}else{const e=new Set;this.map.forEach((t=>{t.get().forEach((t=>{e.add(t)}))})),t=Array.from(e)}return t}getRestrictionType(e,t){let n;return this.getRestrictions(e).forEach((e=>{e.purposeId===t&&(void 0===n||n>e.restrictionType)&&(n=e.restrictionType)})),n}vendorHasRestriction(e,t){let n=!1;const r=this.getRestrictions(e);for(let e=0;e<r.length&&!n;e++)n=t.isSameAs(r[e]);return n}getMaxVendorId(){let e=0;return this.map.forEach((t=>{e=Math.max(t.max(),e)})),e}getRestrictions(e){const t=[];return this.map.forEach(((n,r)=>{e?n.contains(e)&&t.push(B.unHash(r)):t.push(B.unHash(r))})),t}getPurposes(){const e=new Set;return this.map.forEach(((t,n)=>{e.add(B.unHash(n).purposeId)})),Array.from(e)}remove(e,t){const n=t.hash,r=this.map.get(n);r&&(r.remove(e),r.isEmpty()&&(this.map.delete(n),this.bitLength=0))}set gvl(e){this.gvl_||(this.gvl_=e,this.map.forEach(((e,t)=>{const n=B.unHash(t);e.get().forEach((t=>{this.isOkToHave(n.restrictionType,n.purposeId,t)||e.remove(t)}))})))}get gvl(){return this.gvl_}isEmpty(){return 0===this.map.size}get numRestrictions(){return this.map.size}}!function(e){e.COOKIE="cookie",e.WEB="web",e.APP="app"}(m||(m={})),function(e){e.CORE="core",e.VENDORS_DISCLOSED="vendorsDisclosed",e.VENDORS_ALLOWED="vendorsAllowed",e.PUBLISHER_TC="publisherTC"}(I||(I={}));class Y{static ID_TO_KEY=[I.CORE,I.VENDORS_DISCLOSED,I.VENDORS_ALLOWED,I.PUBLISHER_TC];static KEY_TO_ID={[I.CORE]:0,[I.VENDORS_DISCLOSED]:1,[I.VENDORS_ALLOWED]:2,[I.PUBLISHER_TC]:3}}class Q extends H{bitLength=0;maxId_=0;set_=new Set;*[Symbol.iterator](){for(let e=1;e<=this.maxId;e++)yield[e,this.has(e)]}values(){return this.set_.values()}get maxId(){return this.maxId_}has(e){return this.set_.has(e)}unset(e){Array.isArray(e)?e.forEach((e=>this.unset(e))):"object"==typeof e?this.unset(Object.keys(e).map((e=>Number(e)))):(this.set_.delete(Number(e)),this.bitLength=0,e===this.maxId&&(this.maxId_=0,this.set_.forEach((e=>{this.maxId_=Math.max(this.maxId,e)}))))}isIntMap(e){let t="object"==typeof e;return t=t&&Object.keys(e).every((t=>{let n=Number.isInteger(parseInt(t,10));return n=n&&this.isValidNumber(e[t].id),n=n&&void 0!==e[t].name,n})),t}isValidNumber(e){return parseInt(e,10)>0}isSet(e){let t=!1;return e instanceof Set&&(t=Array.from(e).every(this.isValidNumber)),t}set(e){if(Array.isArray(e))e.forEach((e=>this.set(e)));else if(this.isSet(e))this.set(Array.from(e));else if(this.isIntMap(e))this.set(Object.keys(e).map((e=>Number(e))));else{if(!this.isValidNumber(e))throw new x("set()",e,"must be positive integer array, positive integer, Set<number>, or IntMap");this.set_.add(e),this.maxId_=Math.max(this.maxId,e),this.bitLength=0}}empty(){this.set_=new Set}forEach(e){for(let t=1;t<=this.maxId;t++)e(this.has(t),t)}get size(){return this.set_.size}setAll(e){this.set(e)}}class z{static[F.cmpId]=12;static[F.cmpVersion]=12;static[F.consentLanguage]=12;static[F.consentScreen]=6;static[F.created]=36;static[F.isServiceSpecific]=1;static[F.lastUpdated]=36;static[F.policyVersion]=6;static[F.publisherCountryCode]=12;static[F.publisherLegitimateInterests]=24;static[F.publisherConsents]=24;static[F.purposeConsents]=24;static[F.purposeLegitimateInterests]=24;static[F.purposeOneTreatment]=1;static[F.specialFeatureOptins]=12;static[F.useNonStandardStacks]=1;static[F.vendorListVersion]=12;static[F.version]=6;static anyBoolean=1;static encodingType=1;static maxId=16;static numCustomPurposes=6;static numEntries=12;static numRestrictions=12;static purposeId=6;static restrictionType=2;static segmentType=3;static singleOrRange=1;static vendorId=16}class K{static encode(e,t){let n;if("string"==typeof e&&(e=parseInt(e,10)),n=e.toString(2),n.length>t||e<0)throw new M(`${e} too large to encode into ${t}`);return n.length<t&&(n="0".repeat(t-n.length)+n),n}static decode(e,t){if(t!==e.length)throw new L("invalid bit length");return parseInt(e,2)}}class ${static encode(e,t){return K.encode(Math.round(e.getTime()/100),t)}static decode(e,t){if(t!==e.length)throw new L("invalid bit length");const n=new Date;return n.setTime(100*K.decode(e,t)),n}}class q{static encode(e){return String(Number(e))}static decode(e){return"1"===e}}class J{static encode(e,t){let n="";for(let r=1;r<=t;r++)n+=q.encode(e.has(r));return n}static decode(e,t){if(e.length!==t)throw new L("bitfield encoding length mismatch");const n=new Q;for(let r=1;r<=t;r++)q.decode(e[r-1])&&n.set(r);return n.bitLength=e.length,n}}class X{static encode(e,t){const n=(e=e.toUpperCase()).charCodeAt(0)-65,r=e.charCodeAt(1)-65;if(n<0||n>25||r<0||r>25)throw new M(`invalid language code: ${e}`);if(t%2==1)throw new M(`numBits must be even, ${t} is not valid`);return t/=2,K.encode(n,t)+K.encode(r,t)}static decode(e,t){let n;if(t!==e.length||e.length%2)throw new L("invalid bit length for language");{const t=65,r=e.length/2,s=K.decode(e.slice(0,r),r)+t,i=K.decode(e.slice(r),r)+t;n=String.fromCharCode(s)+String.fromCharCode(i)}return n}}class Z{static encode(e){let t=K.encode(e.numRestrictions,z.numRestrictions);return e.isEmpty()||e.getRestrictions().forEach((n=>{t+=K.encode(n.purposeId,z.purposeId),t+=K.encode(n.restrictionType,z.restrictionType);const r=e.getVendors(n),s=r.length;let i=0,o=0,a="";for(let t=0;t<s;t++){const n=r[t];0===o&&(i++,o=n);const c=r[s-1],l=e.gvl.vendorIds,u=e=>{for(;++e<=c&&!l.has(e););return e};if(t===s-1||r[t+1]>u(n)){const e=!(n===o);a+=q.encode(e),a+=K.encode(o,z.vendorId),e&&(a+=K.encode(n,z.vendorId)),o=0}}t+=K.encode(i,z.numEntries),t+=a})),t}static decode(e){let t=0;const n=new W,r=K.decode(e.substr(t,z.numRestrictions),z.numRestrictions);t+=z.numRestrictions;for(let s=0;s<r;s++){const r=K.decode(e.substr(t,z.purposeId),z.purposeId);t+=z.purposeId;const s=K.decode(e.substr(t,z.restrictionType),z.restrictionType);t+=z.restrictionType;const i=new B(r,s),o=K.decode(e.substr(t,z.numEntries),z.numEntries);t+=z.numEntries;for(let r=0;r<o;r++){const r=q.decode(e.substr(t,z.anyBoolean));t+=z.anyBoolean;const s=K.decode(e.substr(t,z.vendorId),z.vendorId);if(t+=z.vendorId,r){const r=K.decode(e.substr(t,z.vendorId),z.vendorId);if(t+=z.vendorId,r<s)throw new L(`Invalid RangeEntry: endVendorId ${r} is less than ${s}`);for(let e=s;e<=r;e++)n.add(e,i)}else n.add(s,i)}}return n.bitLength=t,n}}!function(e){e[e.FIELD=0]="FIELD",e[e.RANGE=1]="RANGE"}(v||(v={}));class ee{static encode(e){const t=[];let n,r=[],s=K.encode(e.maxId,z.maxId),i="";const o=z.maxId+z.encodingType,a=o+e.maxId,c=2*z.vendorId+z.singleOrRange+z.numEntries;let l=o+z.numEntries;return e.forEach(((s,o)=>{i+=q.encode(s),n=e.maxId>c&&l<a,n&&s&&(e.has(o+1)?0===r.length&&(r.push(o),l+=z.singleOrRange,l+=z.vendorId):(r.push(o),l+=z.vendorId,t.push(r),r=[]))})),n?(s+=String(v.RANGE),s+=this.buildRangeEncoding(t)):(s+=String(v.FIELD),s+=i),s}static decode(e,t){let n,r=0;const s=K.decode(e.substr(r,z.maxId),z.maxId);r+=z.maxId;const i=K.decode(e.charAt(r),z.encodingType);if(r+=z.encodingType,i===v.RANGE){if(n=new Q,1===t){if("1"===e.substr(r,1))throw new L("Unable to decode default consent=1");r++}const s=K.decode(e.substr(r,z.numEntries),z.numEntries);r+=z.numEntries;for(let t=0;t<s;t++){const t=q.decode(e.charAt(r));r+=z.singleOrRange;const s=K.decode(e.substr(r,z.vendorId),z.vendorId);if(r+=z.vendorId,t){const t=K.decode(e.substr(r,z.vendorId),z.vendorId);r+=z.vendorId;for(let e=s;e<=t;e++)n.set(e)}else n.set(s)}}else{const t=e.substr(r,s);r+=s,n=J.decode(t,s)}return n.bitLength=r,n}static buildRangeEncoding(e){const t=e.length;let n=K.encode(t,z.numEntries);return e.forEach((e=>{const t=1===e.length;n+=q.encode(!t),n+=K.encode(e[0],z.vendorId),t||(n+=K.encode(e[1],z.vendorId))})),n}}function te(){return{[F.version]:K,[F.created]:$,[F.lastUpdated]:$,[F.cmpId]:K,[F.cmpVersion]:K,[F.consentScreen]:K,[F.consentLanguage]:X,[F.vendorListVersion]:K,[F.policyVersion]:K,[F.isServiceSpecific]:q,[F.useNonStandardStacks]:q,[F.specialFeatureOptins]:J,[F.purposeConsents]:J,[F.purposeLegitimateInterests]:J,[F.purposeOneTreatment]:q,[F.publisherCountryCode]:X,[F.vendorConsents]:ee,[F.vendorLegitimateInterests]:ee,[F.publisherRestrictions]:Z,segmentType:K,[F.vendorsDisclosed]:ee,[F.vendorsAllowed]:ee,[F.publisherConsents]:J,[F.publisherLegitimateInterests]:J,[F.numCustomPurposes]:K,[F.publisherCustomConsents]:J,[F.publisherCustomLegitimateInterests]:J}}class ne{1={[I.CORE]:[F.version,F.created,F.lastUpdated,F.cmpId,F.cmpVersion,F.consentScreen,F.consentLanguage,F.vendorListVersion,F.purposeConsents,F.vendorConsents]};2={[I.CORE]:[F.version,F.created,F.lastUpdated,F.cmpId,F.cmpVersion,F.consentScreen,F.consentLanguage,F.vendorListVersion,F.policyVersion,F.isServiceSpecific,F.useNonStandardStacks,F.specialFeatureOptins,F.purposeConsents,F.purposeLegitimateInterests,F.purposeOneTreatment,F.publisherCountryCode,F.vendorConsents,F.vendorLegitimateInterests,F.publisherRestrictions],[I.PUBLISHER_TC]:[F.publisherConsents,F.publisherLegitimateInterests,F.numCustomPurposes,F.publisherCustomConsents,F.publisherCustomLegitimateInterests],[I.VENDORS_ALLOWED]:[F.vendorsAllowed],[I.VENDORS_DISCLOSED]:[F.vendorsDisclosed]}}class re{1=[I.CORE];2=[I.CORE];constructor(e,t){if(2===e.version)if(e.isServiceSpecific)this[2].push(I.PUBLISHER_TC);else{const n=!(!t||!t.isForVendors);n&&!0!==e[F.supportOOB]||this[2].push(I.VENDORS_DISCLOSED),n&&(e[F.supportOOB]&&e[F.vendorsAllowed].size>0&&this[2].push(I.VENDORS_ALLOWED),this[2].push(I.PUBLISHER_TC))}}}class se{static fieldSequence=new ne;static encode(e,t){let n;try{n=this.fieldSequence[String(e.version)][t]}catch(n){throw new M(`Unable to encode version: ${e.version}, segment: ${t}`)}let r="";t!==I.CORE&&(r=K.encode(Y.KEY_TO_ID[t],z.segmentType));const s=te();return n.forEach((n=>{const i=e[n],o=s[n];let a=z[n];void 0===a&&this.isPublisherCustom(n)&&(a=Number(e[F.numCustomPurposes]));try{r+=o.encode(i,a)}catch(e){throw new M(`Error encoding ${t}->${n}: ${e.message}`)}})),G.encode(r)}static decode(e,t,n){const r=G.decode(e);let s=0;n===I.CORE&&(t.version=K.decode(r.substr(s,z[F.version]),z[F.version])),n!==I.CORE&&(s+=z.segmentType);const i=this.fieldSequence[String(t.version)][n],o=te();return i.forEach((e=>{const n=o[e];let i=z[e];if(void 0===i&&this.isPublisherCustom(e)&&(i=Number(t[F.numCustomPurposes])),0!==i){const o=r.substr(s,i);if(t[e]=n===ee?n.decode(o,t.version):n.decode(o,i),Number.isInteger(i))s+=i;else{if(!Number.isInteger(t[e].bitLength))throw new L(e);s+=t[e].bitLength}}})),t}static isPublisherCustom(e){return 0===e.indexOf("publisherCustom")}}class ie{static processor=[e=>e,(e,t)=>{e.publisherRestrictions.gvl=t,e.purposeLegitimateInterests.unset(1);const n=new Map;return n.set("legIntPurposes",e.vendorLegitimateInterests),n.set("purposes",e.vendorConsents),n.forEach(((n,r)=>{n.forEach(((s,i)=>{if(s){const s=t.vendors[i];if(!s||s.deletedDate)n.unset(i);else if(0===s[r].length)if("legIntPurposes"===r&&0===s.purposes.length&&0===s.legIntPurposes.length&&s.specialPurposes.length>0);else if(e.isServiceSpecific)if(0===s.flexiblePurposes.length)n.unset(i);else{const t=e.publisherRestrictions.getRestrictions(i);let s=!1;for(let e=0,n=t.length;e<n&&!s;e++)s=t[e].restrictionType===_.REQUIRE_CONSENT&&"purposes"===r||t[e].restrictionType===_.REQUIRE_LI&&"legIntPurposes"===r;s||n.unset(i)}else n.unset(i)}}))})),e.vendorsDisclosed.set(t.vendors),e}];static process(e,t){const n=e.gvl;if(!n)throw new M("Unable to encode TCModel without a GVL");if(!n.isReady)throw new M("Unable to encode TCModel tcModel.gvl.readyPromise is not resolved");(e=e.clone()).consentLanguage=n.language.toUpperCase(),t?.version>0&&t?.version<=this.processor.length?e.version=t.version:e.version=this.processor.length;const r=e.version-1;if(!this.processor[r])throw new M(`Invalid version: ${e.version}`);return this.processor[r](e,n)}}class oe{static absCall(e,t,n,r){return new Promise(((s,i)=>{const o=new XMLHttpRequest;o.withCredentials=n,o.addEventListener("load",(()=>{if(o.readyState==XMLHttpRequest.DONE)if(o.status>=200&&o.status<300){let e=o.response;if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}s(e)}else i(new Error(`HTTP Status: ${o.status} response type: ${o.responseType}`))})),o.addEventListener("error",(()=>{i(new Error("error"))})),o.addEventListener("abort",(()=>{i(new Error("aborted"))})),null===t?o.open("GET",e,!0):o.open("POST",e,!0),o.responseType="json",o.timeout=r,o.ontimeout=()=>{i(new Error("Timeout "+r+"ms "+e))},o.send(t)}))}static post(e,t,n=!1,r=0){return this.absCall(e,JSON.stringify(t),n,r)}static fetch(e,t=!1,n=0){return this.absCall(e,null,t,n)}}class ae extends H{static LANGUAGE_CACHE=new Map;static CACHE=new Map;static LATEST_CACHE_KEY=0;static DEFAULT_LANGUAGE="EN";static consentLanguages=new k;static baseUrl_;static set baseUrl(e){if(/^https?:\/\/vendorlist\.consensu\.org\//.test(e))throw new U("Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache");e.length>0&&"/"!==e[e.length-1]&&(e+="/"),this.baseUrl_=e}static get baseUrl(){return this.baseUrl_}static latestFilename="vendor-list.json";static versionedFilename="archives/vendor-list-v[VERSION].json";static languageFilename="purposes-[LANG].json";readyPromise;gvlSpecificationVersion;vendorListVersion;tcfPolicyVersion;lastUpdated;purposes;specialPurposes;features;specialFeatures;isReady_=!1;vendors_;vendorIds;fullVendorList;byPurposeVendorMap;bySpecialPurposeVendorMap;byFeatureVendorMap;bySpecialFeatureVendorMap;stacks;lang_;isLatest=!1;constructor(e){super();let t=ae.baseUrl;if(this.lang_=ae.DEFAULT_LANGUAGE,this.isVendorList(e))this.populate(e),this.readyPromise=Promise.resolve();else{if(!t)throw new U("must specify GVL.baseUrl before loading GVL json");if(e>0){const n=e;ae.CACHE.has(n)?(this.populate(ae.CACHE.get(n)),this.readyPromise=Promise.resolve()):(t+=ae.versionedFilename.replace("[VERSION]",String(n)),this.readyPromise=this.fetchJson(t))}else ae.CACHE.has(ae.LATEST_CACHE_KEY)?(this.populate(ae.CACHE.get(ae.LATEST_CACHE_KEY)),this.readyPromise=Promise.resolve()):(this.isLatest=!0,this.readyPromise=this.fetchJson(t+ae.latestFilename))}}static emptyLanguageCache(e){let t=!1;return void 0===e&&ae.LANGUAGE_CACHE.size>0?(ae.LANGUAGE_CACHE=new Map,t=!0):"string"==typeof e&&this.consentLanguages.has(e.toUpperCase())&&(ae.LANGUAGE_CACHE.delete(e.toUpperCase()),t=!0),t}static emptyCache(e){let t=!1;return Number.isInteger(e)&&e>=0?(ae.CACHE.delete(e),t=!0):void 0===e&&(ae.CACHE=new Map,t=!0),t}cacheLanguage(){ae.LANGUAGE_CACHE.has(this.lang_)||ae.LANGUAGE_CACHE.set(this.lang_,{purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks})}async fetchJson(e){try{this.populate(await oe.fetch(e))}catch(e){throw new U(e.message)}}getJson(){return JSON.parse(JSON.stringify({gvlSpecificationVersion:this.gvlSpecificationVersion,vendorListVersion:this.vendorListVersion,tcfPolicyVersion:this.tcfPolicyVersion,lastUpdated:this.lastUpdated,purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,vendors:this.fullVendorList}))}async changeLanguage(e){const t=e.toUpperCase();if(!ae.consentLanguages.has(t))throw new U(`unsupported language ${e}`);if(t!==this.lang_)if(this.lang_=t,ae.LANGUAGE_CACHE.has(t)){const e=ae.LANGUAGE_CACHE.get(t);for(const t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}else{const t=ae.baseUrl+ae.languageFilename.replace("[LANG]",e);try{await this.fetchJson(t),this.cacheLanguage()}catch(e){throw new U("unable to load language: "+e.message)}}}get language(){return this.lang_}isVendorList(e){return void 0!==e&&void 0!==e.vendors}populate(e){this.purposes=e.purposes,this.specialPurposes=e.specialPurposes,this.features=e.features,this.specialFeatures=e.specialFeatures,this.stacks=e.stacks,this.isVendorList(e)&&(this.gvlSpecificationVersion=e.gvlSpecificationVersion,this.tcfPolicyVersion=e.tcfPolicyVersion,this.vendorListVersion=e.vendorListVersion,this.lastUpdated=e.lastUpdated,"string"==typeof this.lastUpdated&&(this.lastUpdated=new Date(this.lastUpdated)),this.vendors_=e.vendors,this.fullVendorList=e.vendors,this.mapVendors(),this.isReady_=!0,this.isLatest&&ae.CACHE.set(ae.LATEST_CACHE_KEY,this.getJson()),ae.CACHE.has(this.vendorListVersion)||ae.CACHE.set(this.vendorListVersion,this.getJson())),this.cacheLanguage()}mapVendors(e){this.byPurposeVendorMap={},this.bySpecialPurposeVendorMap={},this.byFeatureVendorMap={},this.bySpecialFeatureVendorMap={},Object.keys(this.purposes).forEach((e=>{this.byPurposeVendorMap[e]={legInt:new Set,consent:new Set,flexible:new Set}})),Object.keys(this.specialPurposes).forEach((e=>{this.bySpecialPurposeVendorMap[e]=new Set})),Object.keys(this.features).forEach((e=>{this.byFeatureVendorMap[e]=new Set})),Object.keys(this.specialFeatures).forEach((e=>{this.bySpecialFeatureVendorMap[e]=new Set})),Array.isArray(e)||(e=Object.keys(this.fullVendorList).map((e=>+e))),this.vendorIds=new Set(e),this.vendors_=e.reduce(((e,t)=>{const n=this.vendors_[String(t)];return n&&void 0===n.deletedDate&&(n.purposes.forEach((e=>{this.byPurposeVendorMap[String(e)].consent.add(t)})),n.specialPurposes.forEach((e=>{this.bySpecialPurposeVendorMap[String(e)].add(t)})),n.legIntPurposes.forEach((e=>{this.byPurposeVendorMap[String(e)].legInt.add(t)})),n.flexiblePurposes&&n.flexiblePurposes.forEach((e=>{this.byPurposeVendorMap[String(e)].flexible.add(t)})),n.features.forEach((e=>{this.byFeatureVendorMap[String(e)].add(t)})),n.specialFeatures.forEach((e=>{this.bySpecialFeatureVendorMap[String(e)].add(t)})),e[t]=n),e}),{})}getFilteredVendors(e,t,n,r){const s=e.charAt(0).toUpperCase()+e.slice(1);let i;const o={};return i="purpose"===e&&n?this["by"+s+"VendorMap"][String(t)][n]:this["by"+(r?"Special":"")+s+"VendorMap"][String(t)],i.forEach((e=>{o[String(e)]=this.vendors[String(e)]})),o}getVendorsWithConsentPurpose(e){return this.getFilteredVendors("purpose",e,"consent")}getVendorsWithLegIntPurpose(e){return this.getFilteredVendors("purpose",e,"legInt")}getVendorsWithFlexiblePurpose(e){return this.getFilteredVendors("purpose",e,"flexible")}getVendorsWithSpecialPurpose(e){return this.getFilteredVendors("purpose",e,void 0,!0)}getVendorsWithFeature(e){return this.getFilteredVendors("feature",e)}getVendorsWithSpecialFeature(e){return this.getFilteredVendors("feature",e,void 0,!0)}get vendors(){return this.vendors_}narrowVendorsTo(e){this.mapVendors(e)}get isReady(){return this.isReady_}clone(){const e=new ae(this.getJson());return this.lang_!==ae.DEFAULT_LANGUAGE&&e.changeLanguage(this.lang_),e}static isInstanceOf(e){return"object"==typeof e&&"function"==typeof e.narrowVendorsTo}}class ce extends H{static consentLanguages=ae.consentLanguages;isServiceSpecific_=!1;supportOOB_=!0;useNonStandardStacks_=!1;purposeOneTreatment_=!1;publisherCountryCode_="AA";version_=2;consentScreen_=0;policyVersion_=2;consentLanguage_="EN";cmpId_=0;cmpVersion_=0;vendorListVersion_=0;numCustomPurposes_=0;gvl_;created;lastUpdated;specialFeatureOptins=new Q;purposeConsents=new Q;purposeLegitimateInterests=new Q;publisherConsents=new Q;publisherLegitimateInterests=new Q;publisherCustomConsents=new Q;publisherCustomLegitimateInterests=new Q;customPurposes;vendorConsents=new Q;vendorLegitimateInterests=new Q;vendorsDisclosed=new Q;vendorsAllowed=new Q;publisherRestrictions=new W;constructor(e){super(),e&&(this.gvl=e),this.updated()}set gvl(e){ae.isInstanceOf(e)||(e=new ae(e)),this.gvl_=e,this.publisherRestrictions.gvl=e}get gvl(){return this.gvl_}set cmpId(e){if(e=Number(e),!(Number.isInteger(e)&&e>1))throw new x("cmpId",e);this.cmpId_=e}get cmpId(){return this.cmpId_}set cmpVersion(e){if(e=Number(e),!(Number.isInteger(e)&&e>-1))throw new x("cmpVersion",e);this.cmpVersion_=e}get cmpVersion(){return this.cmpVersion_}set consentScreen(e){if(e=Number(e),!(Number.isInteger(e)&&e>-1))throw new x("consentScreen",e);this.consentScreen_=e}get consentScreen(){return this.consentScreen_}set consentLanguage(e){this.consentLanguage_=e}get consentLanguage(){return this.consentLanguage_}set publisherCountryCode(e){if(!/^([A-z]){2}$/.test(e))throw new x("publisherCountryCode",e);this.publisherCountryCode_=e.toUpperCase()}get publisherCountryCode(){return this.publisherCountryCode_}set vendorListVersion(e){if((e=Number(e)>>0)<0)throw new x("vendorListVersion",e);this.vendorListVersion_=e}get vendorListVersion(){return this.gvl?this.gvl.vendorListVersion:this.vendorListVersion_}set policyVersion(e){if(this.policyVersion_=parseInt(e,10),this.policyVersion_<0)throw new x("policyVersion",e)}get policyVersion(){return this.gvl?this.gvl.tcfPolicyVersion:this.policyVersion_}set version(e){this.version_=parseInt(e,10)}get version(){return this.version_}set isServiceSpecific(e){this.isServiceSpecific_=e}get isServiceSpecific(){return this.isServiceSpecific_}set useNonStandardStacks(e){this.useNonStandardStacks_=e}get useNonStandardStacks(){return this.useNonStandardStacks_}set supportOOB(e){this.supportOOB_=e}get supportOOB(){return this.supportOOB_}set purposeOneTreatment(e){this.purposeOneTreatment_=e}get purposeOneTreatment(){return this.purposeOneTreatment_}setAllVendorConsents(){this.vendorConsents.set(this.gvl.vendors)}unsetAllVendorConsents(){this.vendorConsents.empty()}setAllVendorsDisclosed(){this.vendorsDisclosed.set(this.gvl.vendors)}unsetAllVendorsDisclosed(){this.vendorsDisclosed.empty()}setAllVendorsAllowed(){this.vendorsAllowed.set(this.gvl.vendors)}unsetAllVendorsAllowed(){this.vendorsAllowed.empty()}setAllVendorLegitimateInterests(){this.vendorLegitimateInterests.set(this.gvl.vendors)}unsetAllVendorLegitimateInterests(){this.vendorLegitimateInterests.empty()}setAllPurposeConsents(){this.purposeConsents.set(this.gvl.purposes)}unsetAllPurposeConsents(){this.purposeConsents.empty()}setAllPurposeLegitimateInterests(){this.purposeLegitimateInterests.set(this.gvl.purposes)}unsetAllPurposeLegitimateInterests(){this.purposeLegitimateInterests.empty()}setAllSpecialFeatureOptins(){this.specialFeatureOptins.set(this.gvl.specialFeatures)}unsetAllSpecialFeatureOptins(){this.specialFeatureOptins.empty()}setAll(){this.setAllVendorConsents(),this.setAllPurposeLegitimateInterests(),this.setAllSpecialFeatureOptins(),this.setAllPurposeConsents(),this.setAllVendorLegitimateInterests()}unsetAll(){this.unsetAllVendorConsents(),this.unsetAllPurposeLegitimateInterests(),this.unsetAllSpecialFeatureOptins(),this.unsetAllPurposeConsents(),this.unsetAllVendorLegitimateInterests()}get numCustomPurposes(){let e=this.numCustomPurposes_;if("object"==typeof this.customPurposes){const t=Object.keys(this.customPurposes).sort(((e,t)=>Number(e)-Number(t)));e=parseInt(t.pop(),10)}return e}set numCustomPurposes(e){if(this.numCustomPurposes_=parseInt(e,10),this.numCustomPurposes_<0)throw new x("numCustomPurposes",e)}updated(){const e=new Date,t=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));this.created=t,this.lastUpdated=t}}class le{static encode(e,t){let n,r="";return e=ie.process(e,t),n=Array.isArray(t?.segments)?t.segments:new re(e,t)[""+e.version],n.forEach(((t,s)=>{let i="";s<n.length-1&&(i="."),r+=se.encode(e,t)+i})),r}static decode(e,t){const n=e.split("."),r=n.length;t||(t=new ce);for(let e=0;e<r;e++){const r=n[e],s=G.decode(r.charAt(0)).substr(0,z.segmentType),i=Y.ID_TO_KEY[K.decode(s,z.segmentType).toString()];se.decode(r,t,i)}return t}}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function he(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){a=!0,s=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ue(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Se={DIANOMI:885},ge=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),pe(this,"_can_serve_ads",void 0),pe(this,"tcData",void 0),pe(this,"_can_cookie",void 0),this.tcData=t,this._can_serve_ads=n,this._can_cookie=r}var t,n;return t=e,(n=[{key:"toString",value:function(){return"permissions<can_serve_ads=".concat(this.can_serve_ads,", can_cookie=").concat(this.can_cookie,">")}},{key:"get_tcData",value:function(){return this.tcData||null}},{key:"gdpr",value:function(){var e;return(null===(e=this.tcData)||void 0===e?void 0:e.gdprApplies)||null}},{key:"gdpr_consent",value:function(){var e;return st(this.tcData)?null:(null===(e=this.tcData)||void 0===e?void 0:e.tcString)||null}},{key:"can_serve_ads",value:function(){return this._can_serve_ads}},{key:"can_cookie",value:function(){return this._can_cookie}}])&&de(t.prototype,n),e}(),Ee={id:2,version:3};function fe(e,t){try{if(e.frames[t])return e}catch(e){}return e===window.top?null:fe(e.parent,t)}function _e(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,s)}function me(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var i=e.apply(t,n);function o(e){_e(i,r,s,o,a,"next",e)}function a(e){_e(i,r,s,o,a,"throw",e)}o(void 0)}))}}function Ie(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var ve,Oe,Te,Ne,Ae=50;function ye(e,t){return Ce.apply(this,arguments)}function Ce(){return Ce=me((function(e,t){var n,r,s=arguments;return Ie(this,(function(i){switch(i.label){case 0:n=s.length>2&&void 0!==s[2]&&s[2];try{if("function"==typeof t.__tcfapi)return[2,!0]}catch(e){}return n?[2,!1]:[4,be(e,t)];case 1:return null===(r=i.sent())?[2,!1]:(function(e,t,n){var r={};t.__tcfapi=function(e,t,s,i){var o="".concat(e,"-").concat(Math.random()),a={__tcfapiCall:{command:e,parameter:i,version:t,callId:o}};r[o]=s,n.postMessage(a,"*")},e.addEventListener("message",(function(e){return function(e,t){var n;try{n="string"==typeof e.data?JSON.parse(e.data):e.data}catch(t){n=e.data}var r=null==n?void 0:n.__tcfapiReturn;if(r){var s=t[r.callId];"function"==typeof s&&(s(r.returnValue,r.success),r.callId.startsWith("addEventListener")||(t[r.callId]=null))}}(e,r)}),!1)}(t,t,r),[2,!0])}}))})),Ce.apply(this,arguments)}function be(e,t){return we.apply(this,arguments)}function we(){return(we=me((function(e,t){var n,r;return Ie(this,(function(s){switch(s.label){case 0:n=0,s.label=1;case 1:return n<e?null!==(r=fe(t,"__tcfapiLocator"))?[2,r]:[4,Pe()]:[3,4];case 2:s.sent(),s.label=3;case 3:return n++,[3,1];case 4:return[2,null]}}))}))).apply(this,arguments)}function Pe(){return De.apply(this,arguments)}function De(){return(De=me((function(){return Ie(this,(function(e){return[2,new Promise((function(e){setTimeout((function(){e()}),Ae)}))]}))}))).apply(this,arguments)}!function(e){e.PING="ping",e.GET_TC_DATA="getTCData",e.GET_IN_APP_TC_DATA="getInAppTCData",e.GET_VENDOR_LIST="getVendorList",e.ADD_EVENT_LISTENER="addEventListener",e.REMOVE_EVENT_LISTENER="removeEventListener"}(ve||(ve={})),function(e){e.STUB="stub",e.LOADING="loading",e.LOADED="loaded",e.ERROR="error"}(Oe||(Oe={})),function(e){e.VISIBLE="visible",e.HIDDEN="hidden",e.DISABLED="disabled"}(Te||(Te={})),function(e){e.TC_LOADED="tcloaded",e.CMP_UI_SHOWN="cmpuishown",e.USER_ACTION_COMPLETE="useractioncomplete"}(Ne||(Ne={}));class Re{listenerId;callback;next;param;success=!0;constructor(e,t,n,r){Object.assign(this,{callback:e,listenerId:n,param:t,next:r});try{this.respond()}catch(e){this.invokeCallback(null)}}invokeCallback(e){const t=null!==e;"function"==typeof this.next?this.callback(this.next,e,t):this.callback(e,t)}}class Ve extends Re{respond(){this.throwIfParamInvalid(),this.invokeCallback(new Ge(this.param,this.listenerId))}throwIfParamInvalid(){if(!(void 0===this.param||Array.isArray(this.param)&&this.param.every(Number.isInteger)))throw new Error("Invalid Parameter")}}class Le{eventQueue=new Map;queueNumber=0;add(e){return this.eventQueue.set(this.queueNumber,e),this.queueNumber++}remove(e){return this.eventQueue.delete(e)}exec(){this.eventQueue.forEach(((e,t)=>{new Ve(e.callback,e.param,t,e.next)}))}clear(){this.queueNumber=0,this.eventQueue.clear()}get size(){return this.eventQueue.size}}class Me{static apiVersion="2";static tcfPolicyVersion;static eventQueue=new Le;static cmpStatus=Oe.LOADING;static disabled=!1;static displayStatus=Te.HIDDEN;static cmpId;static cmpVersion;static eventStatus;static gdprApplies;static tcModel;static tcString;static reset(){delete this.cmpId,delete this.cmpVersion,delete this.eventStatus,delete this.gdprApplies,delete this.tcModel,delete this.tcString,delete this.tcfPolicyVersion,this.cmpStatus=Oe.LOADING,this.disabled=!1,this.displayStatus=Te.HIDDEN,this.eventQueue.clear()}}class Ue{cmpId=Me.cmpId;cmpVersion=Me.cmpVersion;gdprApplies=Me.gdprApplies;tcfPolicyVersion=Me.tcfPolicyVersion}class xe extends Ue{cmpStatus=Oe.ERROR}class Ge extends Ue{tcString;listenerId;eventStatus;cmpStatus;isServiceSpecific;useNonStandardStacks;publisherCC;purposeOneTreatment;outOfBand;purpose;vendor;specialFeatureOptins;publisher;constructor(e,t){if(super(),this.eventStatus=Me.eventStatus,this.cmpStatus=Me.cmpStatus,this.listenerId=t,Me.gdprApplies){const t=Me.tcModel;this.tcString=Me.tcString,this.isServiceSpecific=t.isServiceSpecific,this.useNonStandardStacks=t.useNonStandardStacks,this.purposeOneTreatment=t.purposeOneTreatment,this.publisherCC=t.publisherCountryCode,this.outOfBand={allowedVendors:this.createVectorField(t.vendorsAllowed,e),disclosedVendors:this.createVectorField(t.vendorsDisclosed,e)},this.purpose={consents:this.createVectorField(t.purposeConsents),legitimateInterests:this.createVectorField(t.purposeLegitimateInterests)},this.vendor={consents:this.createVectorField(t.vendorConsents,e),legitimateInterests:this.createVectorField(t.vendorLegitimateInterests,e)},this.specialFeatureOptins=this.createVectorField(t.specialFeatureOptins),this.publisher={consents:this.createVectorField(t.publisherConsents),legitimateInterests:this.createVectorField(t.publisherLegitimateInterests),customPurpose:{consents:this.createVectorField(t.publisherCustomConsents),legitimateInterests:this.createVectorField(t.publisherCustomLegitimateInterests)},restrictions:this.createRestrictions(t.publisherRestrictions)}}}createRestrictions(e){const t={};if(e.numRestrictions>0){const n=e.getMaxVendorId();for(let r=1;r<=n;r++){const n=r.toString();e.getRestrictions(r).forEach((e=>{const r=e.purposeId.toString();t[r]||(t[r]={}),t[r][n]=e.restrictionType}))}}return t}createVectorField(e,t){return t?t.reduce(((t,n)=>(t[String(n)]=e.has(Number(n)),t)),{}):[...e].reduce(((e,t)=>(e[t[0].toString(10)]=t[1],e)),{})}}class ke extends Ge{constructor(e){super(e),delete this.outOfBand}createVectorField(e){return[...e].reduce(((e,t)=>e+(t[1]?"1":"0")),"")}createRestrictions(e){const t={};if(e.numRestrictions>0){const n=e.getMaxVendorId();e.getRestrictions().forEach((e=>{t[e.purposeId.toString()]="_".repeat(n)}));for(let r=0;r<n;r++){const n=r+1;e.getRestrictions(n).forEach((e=>{const n=e.restrictionType.toString(),s=e.purposeId.toString(),i=t[s].substr(0,r),o=t[s].substr(r+1);t[s]=i+n+o}))}}return t}}class Fe extends Ue{cmpLoaded=!0;cmpStatus=Me.cmpStatus;displayStatus=Me.displayStatus;apiVersion=String(Me.apiVersion);gvlVersion;constructor(){super(),Me.tcModel&&Me.tcModel.vendorListVersion&&(this.gvlVersion=+Me.tcModel.vendorListVersion)}}class He extends Re{respond(){this.invokeCallback(new Fe)}}class Be extends Ve{respond(){this.throwIfParamInvalid(),this.invokeCallback(new ke(this.param))}}class je extends Re{respond(){const e=Me.tcModel,t=e.vendorListVersion;let n;void 0===this.param&&(this.param=t),n=this.param===t&&e.gvl?e.gvl:new ae(this.param),n.readyPromise.then((()=>{this.invokeCallback(n.getJson())}))}}class We extends Ve{respond(){this.listenerId=Me.eventQueue.add({callback:this.callback,param:this.param,next:this.next}),super.respond()}}class Ye extends Re{respond(){this.invokeCallback(Me.eventQueue.remove(this.param))}}class Qe{static[ve.PING]=He;static[ve.GET_TC_DATA]=Ve;static[ve.GET_IN_APP_TC_DATA]=Be;static[ve.GET_VENDOR_LIST]=je;static[ve.ADD_EVENT_LISTENER]=We;static[ve.REMOVE_EVENT_LISTENER]=Ye}class ze{static set_=new Set([0,2,void 0,null]);static has(e){return"string"==typeof e&&(e=Number(e)),this.set_.has(e)}}const Ke="__tcfapi";class $e{callQueue;customCommands;constructor(e){if(e){let t=ve.ADD_EVENT_LISTENER;if(e?.[t])throw new Error(`Built-In Custom Commmand for ${t} not allowed: Use ${ve.GET_TC_DATA} instead`);if(t=ve.REMOVE_EVENT_LISTENER,e?.[t])throw new Error(`Built-In Custom Commmand for ${t} not allowed`);e?.[ve.GET_TC_DATA]&&(e[ve.ADD_EVENT_LISTENER]=e[ve.GET_TC_DATA],e[ve.REMOVE_EVENT_LISTENER]=e[ve.GET_TC_DATA]),this.customCommands=e}try{this.callQueue=window[Ke]()||[]}catch(e){this.callQueue=[]}finally{window[Ke]=this.apiCall.bind(this),this.purgeQueuedCalls()}}apiCall(e,t,n,...r){if("string"!=typeof e)n(null,!1);else if(ze.has(t)){if("function"!=typeof n)throw new Error("invalid callback function");Me.disabled?n(new xe,!1):this.isCustomCommand(e)||this.isBuiltInCommand(e)?this.isCustomCommand(e)&&!this.isBuiltInCommand(e)?this.customCommands[e](n,...r):e===ve.PING?this.isCustomCommand(e)?new Qe[e](this.customCommands[e],r[0],null,n):new Qe[e](n,r[0]):void 0===Me.tcModel?this.callQueue.push([e,t,n,...r]):this.isCustomCommand(e)&&this.isBuiltInCommand(e)?new Qe[e](this.customCommands[e],r[0],null,n):new Qe[e](n,r[0]):n(null,!1)}else n(null,!1)}purgeQueuedCalls(){const e=this.callQueue;this.callQueue=[],e.forEach((e=>{window[Ke](...e)}))}isCustomCommand(e){return this.customCommands&&"function"==typeof this.customCommands[e]}isBuiltInCommand(e){return void 0!==Qe[e]}}class qe{callResponder;isServiceSpecific;numUpdates=0;constructor(e,t,n=!1,r){this.throwIfInvalidInt(e,"cmpId",2),this.throwIfInvalidInt(t,"cmpVersion",0),Me.cmpId=e,Me.cmpVersion=t,Me.tcfPolicyVersion=2,this.isServiceSpecific=!!n,this.callResponder=new $e(r)}throwIfInvalidInt(e,t,n){if(!("number"==typeof e&&Number.isInteger(e)&&e>=n))throw new Error(`Invalid ${t}: ${e}`)}update(e,t=!1){if(Me.disabled)throw new Error("CmpApi Disabled");Me.cmpStatus=Oe.LOADED,t?(Me.displayStatus=Te.VISIBLE,Me.eventStatus=Ne.CMP_UI_SHOWN):void 0===Me.tcModel?(Me.displayStatus=Te.DISABLED,Me.eventStatus=Ne.TC_LOADED):(Me.displayStatus=Te.HIDDEN,Me.eventStatus=Ne.USER_ACTION_COMPLETE),Me.gdprApplies=null!==e,Me.gdprApplies?(""===e?(Me.tcModel=new ce,Me.tcModel.cmpId=Me.cmpId,Me.tcModel.cmpVersion=Me.cmpVersion):Me.tcModel=le.decode(e),Me.tcModel.isServiceSpecific=this.isServiceSpecific,Me.tcfPolicyVersion=Number(Me.tcModel.policyVersion),Me.tcString=e):Me.tcModel=null,0===this.numUpdates?this.callResponder.purgeQueuedCalls():Me.eventQueue.exec(),this.numUpdates++}disable(){Me.disabled=!0,Me.cmpStatus=Oe.ERROR}}function Je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xe(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,s)}function Ze(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var i=e.apply(t,n);function o(e){Xe(i,r,s,o,a,"next",e)}function a(e){Xe(i,r,s,o,a,"throw",e)}o(void 0)}))}}function et(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){a=!0,s=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Je(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tt(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var nt=20,rt=10;function st(e){return void 0!==(null==e?void 0:e.apiVersion)&&void 0!==(null==e?void 0:e.displayStatus)}function it(e,t,n){return ot.apply(this,arguments)}function ot(){return ot=Ze((function(e,t,n){var r,s,i,o,a,c,l=arguments;return tt(this,(function(u){switch(u.label){case 0:return[4,ye(nt,n,r=l.length>3&&void 0!==l[3]&&l[3])];case 1:return s=u.sent(),r&&!s?[2,null]:s?[4,at(n)]:[2,new ge(null,e,t)];case 2:return u.sent()?[4,lt(n)]:[2,new ge(null,e,t)];case 3:return null===(i=u.sent())?[2,new ge(null,e,t)]:!i.gdprApplies||st(i)?[2,new ge(i,e,t)]:(o=et(function(e){if(!e.gdprApplies)throw new Error("decideTCF shouldn't be called if gdprApplies=false");var t={};"string"!=typeof e.purpose.consents&&(t=e.purpose.consents);var n,r={};"string"!=typeof e.purpose.legitimateInterests&&(r=e.purpose.legitimateInterests);var s,i=null===(n=e.vendor.legitimateInterests[Se.DIANOMI])||void 0===n||n,o=null===(s=e.vendor.consents[Se.DIANOMI])||void 0===s||s;Object.entries(e.publisher.restrictions).forEach((function(e){var n=he(e,2),s=n[0],i=n[1];Object.entries(i).forEach((function(e){var n=he(e,2),i=n[0],o=n[1];if(parseInt(i)===Se.DIANOMI){var a=o;a===_.NOT_ALLOWED?(r[s]=!1,t[s]=!1):a===_.REQUIRE_LI?t[s]=!1:a===_.REQUIRE_CONSENT&&(r[s]=!1)}}))}));var a=Boolean(r[2]&&r[7]&&r[10]&&i||t[2]&&t[7]&&t[10]&&o);return[a,Boolean(a&&t[1]&&t[2]&&t[7]&&t[10]&&o)]}(i),2),a=o[0],c=o[1],[2,new ge(i,a,c)])}}))})),ot.apply(this,arguments)}function at(e){return ct.apply(this,arguments)}function ct(){return ct=Ze((function(e){return tt(this,(function(t){return[2,new Promise((function(t){var n=0,r=setInterval(Ze((function(){var s,i;return tt(this,(function(o){switch(o.label){case 0:return n++>50&&(clearInterval(r),t(!1)),[4,ht(e,"ping")];case 1:return s=et.apply(void 0,[o.sent(),1]),(i=s[0].cmpLoaded)&&(clearInterval(r),t(i)),[2]}}))})),100)}))]}))})),ct.apply(this,arguments)}function lt(e){return ut.apply(this,arguments)}function ut(){return(ut=Ze((function(e){var t,n,r;return tt(this,(function(s){switch(s.label){case 0:t=0,s.label=1;case 1:return t<nt?[4,ht(e,"addEventListener")]:[3,9];case 2:if(n=et.apply(void 0,[s.sent(),2]),r=n[0],!n[1])return[3,8];switch(r.eventStatus){case Ne.TC_LOADED:return[3,3];case Ne.USER_ACTION_COMPLETE:return[3,4];case Ne.CMP_UI_SHOWN:return[3,5]}return[3,7];case 3:case 4:return[2,r];case 5:return[4,dt(e)];case 6:return[2,et.apply(void 0,[s.sent(),1])[0]];case 7:if("loaded"===r.cmpStatus)return[2,r];throw new Error("Unknown Event Status: "+r.eventStatus);case 8:return t++,[3,1];case 9:return[2,null]}}))}))).apply(this,arguments)}function dt(e){return pt.apply(this,arguments)}function pt(){return pt=Ze((function(e){return tt(this,(function(t){return[2,new Promise((function(t){var n=function(e,n){e.eventStatus===Ne.USER_ACTION_COMPLETE&&t([e,n])};function r(){return r=Ze((function(){return tt(this,(function(t){switch(t.label){case 0:return[4,ht(e,"addEventListener",n)];case 1:return t.sent(),[2]}}))})),r.apply(this,arguments)}!function(){r.apply(this,arguments)}(),setTimeout(Ze((function(){var n;return tt(this,(function(r){switch(r.label){case 0:return[4,ht(e,"ping")];case 1:return n=r.sent(),ht(e,"removeEventListener"),t(n),[2]}}))})),1e3*rt)}))]}))})),pt.apply(this,arguments)}function ht(e,t,n){return St.apply(this,arguments)}function St(){return(St=Ze((function(e,t,n){return tt(this,(function(r){return[2,new Promise((function(r,s){var i=null!=n?n:function(e,t){r([e,t])};void 0!==e.__tcfapi?e.__tcfapi(t,2,i):s("__tcfapi is undefined")}))]}))}))).apply(this,arguments)}function gt(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,s)}function Et(e,t){return ft.apply(this,arguments)}function ft(){var e;return e=function(e,t){var n,r,s,i,o,a;return function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(c){switch(c.label){case 0:return n="https://data.dianomi.com/frontend/usync?redirect=https%3A%2F%2Fdata.dianomi.com%2Ffrontend%2Fping%3Fuid%3D%24UID",null!==e&&!0===e&&(n+="&gdpr=1&gdpr_consent="+t),[4,fetch(n)];case 1:return(r=c.sent()).redirected?(s=r.url,i=new URL(s),o=new URLSearchParams(i.search),null===(a=o.get("uid"))?[2,void 0]:[2,a]):[2,void 0]}}))},ft=function(){var t=this,n=arguments;return new Promise((function(r,s){var i=e.apply(t,n);function o(e){gt(i,r,s,o,a,"next",e)}function a(e){gt(i,r,s,o,a,"throw",e)}o(void 0)}))},ft.apply(this,arguments)}function _t(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,s)}var mt=15552e3,It="DIANOMI-CLICK-COOKIE",vt="session",Ot="dnt";function Tt(){var e;return e=function(e,t){var n,r;return function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(s){switch(s.label){case 0:return Dt()?(Ct(),document.cookie=It+"=;Expires=Mon, 1 Jan 1970 00:00:00 GMT",[2]):(function(){var e=localStorage.getItem(It);if(null!==e){var t=JSON.parse(e).timestamp;if(null!==t){var n=new Date(Date.parse(t));((new Date).getTime()-n.getTime())/1e3>mt&&Ct()}}}(),n=bt(),void 0!==(r=wt(n))?[3,2]:[4,Et(e,t)]);case 1:r=s.sent(),s.label=2;case 2:return void 0===r||(function(e){var t="".concat(It,"=").concat(e,"; max-age=").concat(mt);document.cookie=t}(r),void 0===n.localStorageId&&At(r)),[2]}}))},Tt=function(){var t=this,n=arguments;return new Promise((function(r,s){var i=e.apply(t,n);function o(e){_t(i,r,s,o,a,"next",e)}function a(e){_t(i,r,s,o,a,"throw",e)}o(void 0)}))},Tt.apply(this,arguments)}function Nt(){if(!Dt()){var e=wt(bt());if(void 0!==e)return{source:"dianomi.com",atype:1,stype:"ppuid",uids:[{id:e,atype:1,ext:{stype:"ppuid"}}]}}}function At(e){var t={id:e,timestamp:(new Date).toISOString()};localStorage.setItem(It,JSON.stringify(t))}function yt(){var e=localStorage.getItem(It);if(null!==e){var t=null;try{t=JSON.parse(e)}catch(e){return void console.error("Error parsing localStorage data:",e)}if(null!==t)return At(t.id),t.id}}function Ct(){localStorage.removeItem(It)}function bt(){return{localStorageId:yt(),firstPartyId:Pt(It),thirdPartyId:Pt(vt)}}function wt(e){var t=!0,n=!1,r=void 0;try{for(var s,i=Object.values(e)[Symbol.iterator]();!(t=(s=i.next()).done);t=!0){var o=s.value;if(void 0!==o)return o}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}function Pt(e){var t;return null===(t=document.cookie.split("; ").find((function(t){return t.startsWith(e+"=")})))||void 0===t?void 0:t.split("=")[1]}function Dt(){var e=Pt(Ot);return void 0!==e&&""!==e}function Rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vt(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,s)}function Lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){a=!0,s=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw s}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Rt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Mt,Ut,xt,Gt,kt,Ft,Ht,Bt,jt,Wt,Yt,Qt,zt,Kt,$t,qt=1293,Jt=1;function Xt(e,t){return Zt.apply(this,arguments)}function Zt(){var e;return e=function(e,t){var n,r,s;return function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(i){switch(i.label){case 0:return e.dnt?[2]:[4,en(e.dianomiContextHost,t)];case 1:return(n=i.sent())?(r=[],e.identity.id5&&r.push({name:"id5Id",params:{partner:qt},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:28800}}),e.identity.sharedId&&r.push({name:"sharedId",storage:{type:"cookie",name:"sharedId",expires:90,refreshInSeconds:28800}}),e.identity.dmp&&function(e,t){if(null===e)return!t;if(n=e,null!=(r=Fe)&&"undefined"!=typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](n):n instanceof r)return!1;var n,r;if(!e.gdprApplies)return!0;if(!e.vendor.consents[Se.DIANOMI]||!e.purpose.consents[Jt])return!1;var s=!1;return Object.entries(e.publisher.restrictions).forEach((function(e){var t=Lt(e,2),n=t[0],r=t[1];Object.entries(r).forEach((function(e){var t=Lt(e,2),r=t[0],i=t[1];if(parseInt(r)===Se.DIANOMI){var o=i;o===_.NOT_ALLOWED?n===Jt.toString()&&(s=!0):o===_.REQUIRE_LI&&n===Jt.toString()&&(s=!0)}}))})),!s}(e.tcfPermissions.get_tcData(),e.inGDPR)&&(function(e,t){Tt.apply(this,arguments)}(e.tcfPermissions.gdpr(),e.tcfPermissions.gdpr_consent()),r.push({name:"pubProvidedId",params:{eidsFunction:Nt}})),s={consentManagement:{gdpr:{cmpApi:"iab",timeout:8e3,defaultGdprScope:e.inGDPR}},debug:!0,userSync:{userIds:r,auctionDelay:50}},n.setConfig(s),[4,n.getUserIdsAsync()]):[2];case 2:return i.sent(),[2,n.getUserIdsAsEids()]}}))},Zt=function(){var t=this,n=arguments;return new Promise((function(r,s){var i=e.apply(t,n);function o(e){Vt(i,r,s,o,a,"next",e)}function a(e){Vt(i,r,s,o,a,"throw",e)}o(void 0)}))},Zt.apply(this,arguments)}function en(e,t){var n=t.frameDocument,r=t.frameWindow;return new Promise((function(t){try{if(null==r?void 0:r.pbjs)return void t(r.pbjs);var s=n.createElement("script");s.src="https://".concat(e,"/js/contextfeed/prebid.js"),n.body.appendChild(s),s.onload=function(){r.pbjs?t(r.pbjs):t(null)},s.onerror=function(){t(null)}}catch(e){t(null)}}))}function tn(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,s)}function nn(e){return rn.apply(this,arguments)}function rn(){var e;return e=function(e){var t;return function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,sn(e)];case 1:return[2,n.sent()];case 2:return t=n.sent(),console.error("USP Error: ",t),[2,null];case 3:return[2]}}))},rn=function(){var t=this,n=arguments;return new Promise((function(r,s){var i=e.apply(t,n);function o(e){tn(i,r,s,o,a,"next",e)}function a(e){tn(i,r,s,o,a,"throw",e)}o(void 0)}))},rn.apply(this,arguments)}function sn(e){return new Promise((function(t,n){var r=fe(e,"__uspapiLocator");if(r){var s,i,o,a=function(e,t){return"function"==typeof e.__uspapi}(e);a||(i=r,o={},(s=e).__uspapi=function(e,t,n){var r="usp-".concat(e,"-").concat(Math.random()),s={__uspapiCall:{command:e,parameter:"",version:t,callId:r}};o[r]=n,i.postMessage(s,"*")},s.addEventListener("message",(function(e){return function(e,t){var n;try{n="string"==typeof e.data?JSON.parse(e.data):e.data}catch(t){n=e.data}var r=null==n?void 0:n.__uspapiReturn;if(r){var s=t[r.callId];"function"==typeof s&&s(r.returnValue,r.success)}}(e,o)}),!1)),e.__uspapi?e.__uspapi("getUSPData",1,(function(e){(null==e?void 0:e.uspString)?t(e.uspString):n("No USP string present")})):n("No __uspapi on dianomi window")}else n("No __uspapiLocator frame")}))}class on{gppVersion;cmpStatus;cmpDisplayStatus;signalStatus;supportedAPIs;cmpId;sectionList;applicableSections;gppString;parsedSections;constructor(e){this.gppVersion=e.gppVersion,this.cmpStatus=e.cmpStatus,this.cmpDisplayStatus=e.cmpDisplayStatus,this.signalStatus=e.signalStatus,this.supportedAPIs=e.supportedAPIs,this.cmpId=e.cmpId,this.sectionList=e.gppModel.getSectionIds(),this.applicableSections=e.applicableSections,this.gppString=e.gppModel.encode(),this.parsedSections=e.gppModel.toObject()}}class an{callback;parameter;success=!0;cmpApiContext;constructor(e,t,n){this.cmpApiContext=e,Object.assign(this,{callback:t,parameter:n})}execute(){try{return this.respond()}catch(e){return this.invokeCallback(null),null}}invokeCallback(e){const t=null!==e;this.callback&&this.callback(e,t)}}class cn extends an{respond(){let e=new on(this.cmpApiContext);this.invokeCallback(e)}}class ln extends an{respond(){if(!this.parameter||0===this.parameter.length)throw new Error("<section>.<field> parameter required");let e=this.parameter.split(".");if(2!=e.length)throw new Error("Field name must be in the format <section>.<fieldName>");let t=e[0],n=e[1],r=this.cmpApiContext.gppModel.getFieldValue(t,n);this.invokeCallback(r)}}class un extends an{respond(){if(!this.parameter||0===this.parameter.length)throw new Error("<section> parameter required");let e=null;this.cmpApiContext.gppModel.hasSection(this.parameter)&&(e=this.cmpApiContext.gppModel.getSection(this.parameter)),this.invokeCallback(e)}}class dn extends an{respond(){if(!this.parameter||0===this.parameter.length)throw new Error("<section>[.version] parameter required");let e=this.cmpApiContext.gppModel.hasSection(this.parameter);this.invokeCallback(e)}}!function(e){e.ADD_EVENT_LISTENER="addEventListener",e.GET_FIELD="getField",e.GET_SECTION="getSection",e.HAS_SECTION="hasSection",e.PING="ping",e.REMOVE_EVENT_LISTENER="removeEventListener"}(Mt||(Mt={}));class pn{eventName;listenerId;data;pingData;constructor(e,t,n,r){this.eventName=e,this.listenerId=t,this.data=n,this.pingData=r}}class hn extends an{respond(){let e=this.cmpApiContext.eventQueue.add({callback:this.callback,parameter:this.parameter}),t=new pn("listenerRegistered",e,!0,new on(this.cmpApiContext));this.invokeCallback(t)}}class Sn extends an{respond(){let e=this.parameter,t=this.cmpApiContext.eventQueue.remove(e),n=new pn("listenerRemoved",e,t,new on(this.cmpApiContext));this.invokeCallback(n)}}class gn{static[Mt.ADD_EVENT_LISTENER]=hn;static[Mt.GET_FIELD]=ln;static[Mt.GET_SECTION]=un;static[Mt.HAS_SECTION]=dn;static[Mt.PING]=cn;static[Mt.REMOVE_EVENT_LISTENER]=Sn}!function(e){e.STUB="stub",e.LOADING="loading",e.LOADED="loaded",e.ERROR="error"}(Ut||(Ut={})),function(e){e.VISIBLE="visible",e.HIDDEN="hidden",e.DISABLED="disabled"}(xt||(xt={})),function(e){e.GPP_LOADED="gpploaded",e.CMP_UI_SHOWN="cmpuishown",e.USER_ACTION_COMPLETE="useractioncomplete"}(Gt||(Gt={})),function(e){e.NOT_READY="not ready",e.READY="ready"}(kt||(kt={}));class En{callQueue;customCommands;cmpApiContext;constructor(e,t){if(this.cmpApiContext=e,t){let e=Mt.ADD_EVENT_LISTENER;if(t?.[e])throw new Error(`Built-In Custom Commmand for ${e} not allowed`);if(e=Mt.REMOVE_EVENT_LISTENER,t?.[e])throw new Error(`Built-In Custom Commmand for ${e} not allowed`);this.customCommands=t}try{this.callQueue=window.__gpp()||[]}catch(e){this.callQueue=[]}finally{window.__gpp=this.apiCall.bind(this),this.purgeQueuedCalls()}}apiCall(e,t,n,r){if("string"!=typeof e)t(null,!1);else{if(t&&"function"!=typeof t)throw new Error("invalid callback function");this.isCustomCommand(e)?this.customCommands[e](t,n):this.isBuiltInCommand(e)?new gn[e](this.cmpApiContext,t,n).execute():t&&t(null,!1)}}purgeQueuedCalls(){const e=this.callQueue;this.callQueue=[],e.forEach((e=>{window.__gpp(...e)}))}isCustomCommand(e){return this.customCommands&&"function"==typeof this.customCommands[e]}isBuiltInCommand(e){return void 0!==gn[e]}}class fn{eventQueue=new Map;queueNumber=1e3;cmpApiContext;constructor(e){this.cmpApiContext=e;try{let e=window.__gpp("events")||[];for(var t=0;t<e.length;t++){let n=e[t];this.eventQueue.set(n.id,{callback:n.callback,parameter:n.parameter})}}catch(e){console.log(e)}}add(e){return this.eventQueue.set(this.queueNumber,e),this.queueNumber++}get(e){return this.eventQueue.get(e)}remove(e){return this.eventQueue.delete(e)}exec(e,t){this.eventQueue.forEach(((n,r)=>{let s=new pn(e,r,t,new on(this.cmpApiContext));n.callback(s,!0)}))}clear(){this.queueNumber=1e3,this.eventQueue.clear()}get size(){return this.eventQueue.size}}class _n extends Error{constructor(e){super(e),this.name="DecodingError"}}class mn{static encode(e,t){let n=[];if(e>=1)for(n.push(1);e>=2*n[0];)n.unshift(2*n[0]);let r="";for(let t=0;t<n.length;t++){let s=n[t];e>=s?(r+="1",e-=s):r+="0"}for(;r.length<t;)r="0"+r;return r}static decode(e){if(!/^[0-1]*$/.test(e))throw new _n("Undecodable FixedInteger '"+e+"'");let t=0,n=[];for(let t=0;t<e.length;t++)n[e.length-(t+1)]=0===t?1:2*n[e.length-t];for(let r=0;r<e.length;r++)"1"===e.charAt(r)&&(t+=n[r]);return t}}class In extends Error{constructor(e){super(e),this.name="EncodingError"}}class vn{static DICT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";static REVERSE_DICT=new Map([["A",0],["B",1],["C",2],["D",3],["E",4],["F",5],["G",6],["H",7],["I",8],["J",9],["K",10],["L",11],["M",12],["N",13],["O",14],["P",15],["Q",16],["R",17],["S",18],["T",19],["U",20],["V",21],["W",22],["X",23],["Y",24],["Z",25],["a",26],["b",27],["c",28],["d",29],["e",30],["f",31],["g",32],["h",33],["i",34],["j",35],["k",36],["l",37],["m",38],["n",39],["o",40],["p",41],["q",42],["r",43],["s",44],["t",45],["u",46],["v",47],["w",48],["x",49],["y",50],["z",51],["0",52],["1",53],["2",54],["3",55],["4",56],["5",57],["6",58],["7",59],["8",60],["9",61],["-",62],["_",63]]);encode(e){if(!/^[0-1]*$/.test(e))throw new In("Unencodable Base64Url '"+e+"'");e=this.pad(e);let t="",n=0;for(;n<=e.length-6;){let r=e.substring(n,n+6);try{let e=mn.decode(r);t+=vn.DICT.charAt(e),n+=6}catch(t){throw new In("Unencodable Base64Url '"+e+"'")}}return t}decode(e){if(!/^[A-Za-z0-9\-_]*$/.test(e))throw new _n("Undecodable Base64URL string");let t="";for(let n=0;n<e.length;n++){let r=e.charAt(n),s=vn.REVERSE_DICT.get(r);t+=mn.encode(s,6)}return t}}class On extends vn{pad(e){for(;e.length%8>0;)e+="0";for(;e.length%6>0;)e+="0";return e}}class Tn{static encode(e){let t=[];if(e>=1&&(t.push(1),e>=2)){t.push(2);let n=2;for(;e>=t[n-1]+t[n-2];)t.push(t[n-1]+t[n-2]),n++}let n="1";for(let r=t.length-1;r>=0;r--){let s=t[r];e>=s?(n="1"+n,e-=s):n="0"+n}return n}static decode(e){if(!/^[0-1]*$/.test(e)||e.length<2||e.indexOf("11")!==e.length-2)throw new _n("Undecodable FibonacciInteger '"+e+"'");let t=0,n=[];for(let t=0;t<e.length-1;t++)0===t?n.push(1):1===t?n.push(2):n.push(n[t-1]+n[t-2]);for(let r=0;r<e.length-1;r++)"1"===e.charAt(r)&&(t+=n[r]);return t}}class Nn{static encode(e){if(!0===e)return"1";if(!1===e)return"0";throw new In("Unencodable Boolean '"+e+"'")}static decode(e){if("1"===e)return!0;if("0"===e)return!1;throw new _n("Undecodable Boolean '"+e+"'")}}class An{static encode(e){e=e.sort(((e,t)=>e-t));let t=[],n=0,r=0;for(;r<e.length;){let n=r;for(;n<e.length-1&&e[n]+1===e[n+1];)n++;t.push(e.slice(r,n+1)),r=n+1}let s=mn.encode(t.length,12);for(let e=0;e<t.length;e++)if(1==t[e].length){let r=t[e][0]-n;n=t[e][0],s+="0"+Tn.encode(r)}else{let r=t[e][0]-n;n=t[e][0];let i=t[e][t[e].length-1]-n;n=t[e][t[e].length-1],s+="1"+Tn.encode(r)+Tn.encode(i)}return s}static decode(e){if(!/^[0-1]*$/.test(e)||e.length<12)throw new _n("Undecodable FibonacciIntegerRange '"+e+"'");let t=[],n=mn.decode(e.substring(0,12)),r=0,s=12;for(let i=0;i<n;i++){let n=Nn.decode(e.substring(s,s+1));if(s++,!0===n){let n=e.indexOf("11",s),i=Tn.decode(e.substring(s,n+2))+r;r=i,s=n+2,n=e.indexOf("11",s);let o=Tn.decode(e.substring(s,n+2))+r;r=o,s=n+2;for(let e=i;e<=o;e++)t.push(e)}else{let n=e.indexOf("11",s),i=Tn.decode(e.substring(s,n+2))+r;r=i,t.push(i),s=n+2}}return t}}class yn{value;hasValue(){return void 0!==this.value&&null!==this.value}getValue(){return this.value}setValue(e){this.value=e}}class Cn extends yn{constructor(e){super(),this.setValue(e)}encode(){return An.encode(this.value)}decode(e){this.value=An.decode(e)}substring(e,t){let n=mn.decode(e.substring(t,t+12)),r=t+12;for(let t=0;t<n;t++)r="1"===e.charAt(r)?e.indexOf("11",e.indexOf("11",r+1)+2)+2:e.indexOf("11",r+1)+2;return e.substring(t,r)}getValue(){return[...super.getValue()]}setValue(e){super.setValue([...new Set(e)].sort(((e,t)=>e-t)))}}class bn extends yn{bitStringLength;constructor(e,t){super(),this.bitStringLength=e,this.setValue(t)}encode(){return mn.encode(this.value,this.bitStringLength)}decode(e){this.value=mn.decode(e)}substring(e,t){return e.substring(t,t+this.bitStringLength)}}!function(e){e.ID="Id",e.VERSION="Version",e.SECTION_IDS="SectionIds"}(Ft||(Ft={}));class wn{fields;fieldOrder;constructor(e,t){this.fields=e,this.fieldOrder=t}hasField(e){return this.fields.has(e)}getFieldValue(e){return this.fields.has(e)?this.fields.get(e).getValue():null}setFieldValue(e,t){if(!this.fields.has(e))throw new Error(e+" not found");this.fields.get(e).setValue(t)}getFieldOrder(){return this.fieldOrder}encodeToBitString(){let e="";for(let t=0;t<this.fieldOrder.length;t++){let n=this.fieldOrder[t];if(!this.fields.has(n))throw new Error("Field not found: '"+n+"'");e+=this.fields.get(n).encode()}return e}decodeFromBitString(e){let t=0;for(let n=0;n<this.fieldOrder.length;n++){let r=this.fieldOrder[n];if(!this.fields.has(r))throw new Error("Field not found: '"+r+"'");{let n=this.fields.get(r),s=n.substring(e,t);n.decode(s),t+=s.length}}}toObj(){let e={};for(let t=0;t<this.fieldOrder.length;t++){let n=this.fieldOrder[t];if(this.fields.has(n)){let t=this.fields.get(n).getValue();e[n]=t}}return e}}class Pn extends wn{static ID=3;static VERSION=1;static NAME="header";base64UrlEncoder=new On;constructor(e){let t=new Map;t.set(Ft.ID.toString(),new bn(6,Pn.ID)),t.set(Ft.VERSION.toString(),new bn(6,Pn.VERSION)),t.set(Ft.SECTION_IDS.toString(),new Cn([])),super(t,[Ft.ID.toString(),Ft.VERSION.toString(),Ft.SECTION_IDS.toString()]),e&&e.length>0&&this.decode(e)}encode(){let e=this.encodeToBitString();return this.base64UrlEncoder.encode(e)}decode(e){let t=this.base64UrlEncoder.decode(e);this.decodeFromBitString(t)}getId(){return Pn.ID}getName(){return Pn.NAME}}class Dn extends yn{constructor(e){super(),this.setValue(e)}encode(){return Nn.encode(this.value)}decode(e){this.value=Nn.decode(e)}substring(e,t){return e.substring(t,t+1)}}class Rn{static encode(e){return e?mn.encode(Math.round(e.getTime()/100),36):mn.encode(0,36)}static decode(e){if(!/^[0-1]*$/.test(e)||36!==e.length)throw new _n("Undecodable Datetime '"+e+"'");return new Date(100*mn.decode(e))}}class Vn extends yn{constructor(e){super(),this.setValue(e)}encode(){return Rn.encode(this.value)}decode(e){this.value=Rn.decode(e)}substring(e,t){return e.substring(t,t+36)}}class Ln{static encode(e,t){let n="";for(let t=0;t<e.length;t++)n+=Nn.encode(e[t]);for(;n.length<t;)n+="0";return n}static decode(e){if(!/^[0-1]*$/.test(e))throw new _n("Undecodable FixedBitfield '"+e+"'");let t=[];for(let n=0;n<e.length;n++)t.push(Nn.decode(e.substring(n,n+1)));return t}}class Mn extends yn{getLength;constructor(e,t){super(),this.getLength=e,this.setValue(t)}encode(){return Ln.encode(this.value,this.getLength())}decode(e){this.value=Ln.decode(e)}substring(e,t){return e.substring(t,t+this.getLength())}getValue(){return[...super.getValue()]}setValue(e){let t=this.getLength(),n=[...e];for(let e=n.length;e<t;e++)n.push(!1);n.length>t&&(n=n.slice(0,t)),super.setValue([...n])}}class Un extends yn{numElements;constructor(e){super(),this.numElements=e.length,this.setValue(e)}encode(){return Ln.encode(this.value,this.numElements)}decode(e){this.value=Ln.decode(e)}substring(e,t){return e.substring(t,t+this.numElements)}getValue(){return[...super.getValue()]}setValue(e){let t=[...e];for(let e=t.length;e<this.numElements;e++)t.push(!1);t.length>this.numElements&&(t=t.slice(0,this.numElements)),super.setValue(t)}}class xn{static encode(e,t){for(;e.length<t;)e+=" ";let n="";for(let t=0;t<e.length;t++){let r=e.charCodeAt(t);if(32===r)n+=mn.encode(63,6);else{if(!(r>=65))throw new In("Unencodable FixedString '"+e+"'");n+=mn.encode(e.charCodeAt(t)-65,6)}}return n}static decode(e){if(!/^[0-1]*$/.test(e)||e.length%6!=0)throw new _n("Undecodable FixedString '"+e+"'");let t="";for(let n=0;n<e.length;n+=6){let r=mn.decode(e.substring(n,n+6));t+=63===r?" ":String.fromCharCode(r+65)}return t.trim()}}class Gn extends yn{stringLength;constructor(e,t){super(),this.stringLength=e,this.setValue(t)}encode(){return xn.encode(this.value,this.stringLength)}decode(e){this.value=xn.decode(e)}substring(e,t){return e.substring(t,t+6*this.stringLength)}}class kn{fields;segments;constructor(e,t){this.fields=e,this.segments=t}hasField(e){return this.fields.has(e)}getFieldValue(e){return this.fields.has(e)?this.fields.get(e).getValue():null}setFieldValue(e,t){if(!this.fields.has(e))throw new Error(e+" not found");this.fields.get(e).setValue(t)}getSegments(){return this.segments}encodeSegmentsToBitStrings(){let e=[];for(let t=0;t<this.segments.length;t++){let n="";for(let e=0;e<this.segments[t].length;e++){let r=this.segments[t][e];if(!this.fields.has(r))throw new Error("Field not found: '"+r+"'");try{n+=this.fields.get(r).encode()}catch(e){throw new Error("Unable to encode "+r)}}e.push(n)}return e}decodeSegmentsFromBitStrings(e){for(let t=0;t<this.segments.length&&t<e.length;t++){let n=e[t];if(n&&n.length>0){let e=0;for(let r=0;r<this.segments[t].length;r++){let s=this.segments[t][r];if(!this.fields.has(s))throw new Error("Field not found: '"+s+"'");try{let t=this.fields.get(s),r=t.substring(n,e);t.decode(r),e+=r.length}catch(e){throw new Error("Unable to decode "+s)}}}}}toObj(){let e={};for(let t=0;t<this.segments.length;t++)for(let n=0;n<this.segments[t].length;n++){let r=this.segments[t][n];if(this.fields.has(r)){let t=this.fields.get(r).getValue();e[r]=t}}return e}}class Fn{static encode(e){e.sort(((e,t)=>e-t));let t=[],n=0;for(;n<e.length;){let r=n;for(;r<e.length-1&&e[r]+1===e[r+1];)r++;t.push(e.slice(n,r+1)),n=r+1}let r=mn.encode(t.length,12);for(let e=0;e<t.length;e++)1===t[e].length?r+="0"+mn.encode(t[e][0],16):r+="1"+mn.encode(t[e][0],16)+mn.encode(t[e][t[e].length-1],16);return r}static decode(e){if(!/^[0-1]*$/.test(e)||e.length<12)throw new _n("Undecodable FixedIntegerRange '"+e+"'");let t=[],n=mn.decode(e.substring(0,12)),r=12;for(let s=0;s<n;s++){let n=Nn.decode(e.substring(r,r+1));if(r++,!0===n){let n=mn.decode(e.substring(r,r+16));r+=16;let s=mn.decode(e.substring(r,r+16));r+=16;for(let e=n;e<=s;e++)t.push(e)}else{let n=mn.decode(e.substring(r,r+16));t.push(n),r+=16}}return t}}class Hn extends yn{constructor(e){super(),this.setValue(e)}encode(){return Fn.encode(this.value)}decode(e){this.value=Fn.decode(e)}substring(e,t){let n=mn.decode(e.substring(t,t+12)),r=t+12;for(let t=0;t<n;t++)"1"===e.charAt(r)?r+=33:r+=17;return e.substring(t,r)}getValue(){return[...super.getValue()]}setValue(e){super.setValue([...new Set(e)].sort(((e,t)=>e-t)))}}class Bn extends yn{constructor(e){super(),this.setValue(e)}encode(){let e=this.value.length>0?this.value[this.value.length-1]:0,t=Fn.encode(this.value),n=e;if(t.length<=n)return mn.encode(e,16)+"1"+t;{let t=[],r=0;for(let n=0;n<e;n++)n===this.value[r]-1?(t[n]=!0,r++):t[n]=!1;return mn.encode(e,16)+"0"+Ln.encode(t,n)}}decode(e){if("1"===e.charAt(16))this.value=Fn.decode(e.substring(17));else{let t=[],n=Ln.decode(e.substring(17));for(let e=0;e<n.length;e++)!0===n[e]&&t.push(e+1);this.value=t}}substring(e,t){let n=mn.decode(e.substring(t,t+16));return"1"===e.charAt(t+16)?e.substring(t,t+17)+new Hn([]).substring(e,t+17):e.substring(t,t+17+n)}getValue(){return[...super.getValue()]}setValue(e){super.setValue([...new Set(e)].sort(((e,t)=>e-t)))}}!function(e){e.VERSION="Version",e.CREATED="Created",e.LAST_UPDATED="LastUpdated",e.CMP_ID="CmpId",e.CMP_VERSION="CmpVersion",e.CONSENT_SCREEN="ConsentScreen",e.CONSENT_LANGUAGE="ConsentLanguage",e.VENDOR_LIST_VERSION="VendorListVersion",e.POLICY_VERSION="PolicyVersion",e.IS_SERVICE_SPECIFIC="IsServiceSpecific",e.USE_NON_STANDARD_STACKS="UseNonStandardStacks",e.SPECIAL_FEATURE_OPTINS="SpecialFeatureOptins",e.PURPOSE_CONSENTS="PurposeConsents",e.PURPOSE_LEGITIMATE_INTERESTS="PurposeLegitimateInterests",e.PURPOSE_ONE_TREATMENT="PurposeOneTreatment",e.PUBLISHER_COUNTRY_CODE="PublisherCountryCode",e.VENDOR_CONSENTS="VendorConsents",e.VENDOR_LEGITIMATE_INTERESTS="VendorLegitimateInterests",e.PUBLISHER_RESTRICTIONS="PublisherRestrictions",e.PUBLISHER_PURPOSES_SEGMENT_TYPE="PublisherPurposesSegmentType",e.PUBLISHER_CONSENTS="PublisherConsents",e.PUBLISHER_LEGITIMATE_INTERESTS="PublisherLegitimateInterests",e.NUM_CUSTOM_PURPOSES="NumCustomPurposes",e.PUBLISHER_CUSTOM_CONSENTS="PublisherCustomConsents",e.PUBLISHER_CUSTOM_LEGITIMATE_INTERESTS="PublisherCustomLegitimateInterests",e.VENDORS_ALLOWED_SEGMENT_TYPE="VendorsAllowedSegmentType",e.VENDORS_ALLOWED="VendorsAllowed",e.VENDORS_DISCLOSED_SEGMENT_TYPE="VendorsDisclosedSegmentType",e.VENDORS_DISCLOSED="VendorsDisclosed"}(Ht||(Ht={}));class jn extends vn{pad(e){for(;e.length%24>0;)e+="0";return e}}class Wn extends kn{static ID=2;static VERSION=2;static NAME="tcfeuv2";base64UrlEncoder=new jn;constructor(e){let t=new Map,n=new Date;t.set(Ht.VERSION.toString(),new bn(6,Wn.VERSION)),t.set(Ht.CREATED.toString(),new Vn(n)),t.set(Ht.LAST_UPDATED.toString(),new Vn(n)),t.set(Ht.CMP_ID.toString(),new bn(12,0)),t.set(Ht.CMP_VERSION.toString(),new bn(12,0)),t.set(Ht.CONSENT_SCREEN.toString(),new bn(6,0)),t.set(Ht.CONSENT_LANGUAGE.toString(),new Gn(2,"EN")),t.set(Ht.VENDOR_LIST_VERSION.toString(),new bn(12,0)),t.set(Ht.POLICY_VERSION.toString(),new bn(6,2)),t.set(Ht.IS_SERVICE_SPECIFIC.toString(),new Dn(!1)),t.set(Ht.USE_NON_STANDARD_STACKS.toString(),new Dn(!1)),t.set(Ht.SPECIAL_FEATURE_OPTINS.toString(),new Un([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.set(Ht.PURPOSE_CONSENTS.toString(),new Un([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.set(Ht.PURPOSE_LEGITIMATE_INTERESTS.toString(),new Un([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.set(Ht.PURPOSE_ONE_TREATMENT.toString(),new Dn(!1)),t.set(Ht.PUBLISHER_COUNTRY_CODE.toString(),new Gn(2,"AA")),t.set(Ht.VENDOR_CONSENTS.toString(),new Bn([])),t.set(Ht.VENDOR_LEGITIMATE_INTERESTS.toString(),new Bn([])),t.set(Ht.PUBLISHER_RESTRICTIONS.toString(),new Hn([])),t.set(Ht.PUBLISHER_PURPOSES_SEGMENT_TYPE.toString(),new bn(3,3)),t.set(Ht.PUBLISHER_CONSENTS.toString(),new Un([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.set(Ht.PUBLISHER_LEGITIMATE_INTERESTS.toString(),new Un([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]));let r=new bn(6,0);t.set(Ht.NUM_CUSTOM_PURPOSES.toString(),r),t.set(Ht.PUBLISHER_CUSTOM_CONSENTS.toString(),new Mn((()=>r.getValue()),[])),t.set(Ht.PUBLISHER_CUSTOM_LEGITIMATE_INTERESTS.toString(),new Mn((()=>r.getValue()),[])),t.set(Ht.VENDORS_ALLOWED_SEGMENT_TYPE.toString(),new bn(3,2)),t.set(Ht.VENDORS_ALLOWED.toString(),new Bn([])),t.set(Ht.VENDORS_DISCLOSED_SEGMENT_TYPE.toString(),new bn(3,1)),t.set(Ht.VENDORS_DISCLOSED.toString(),new Bn([])),super(t,[[Ht.VERSION.toString(),Ht.CREATED.toString(),Ht.LAST_UPDATED.toString(),Ht.CMP_ID.toString(),Ht.CMP_VERSION.toString(),Ht.CONSENT_SCREEN.toString(),Ht.CONSENT_LANGUAGE.toString(),Ht.VENDOR_LIST_VERSION.toString(),Ht.POLICY_VERSION.toString(),Ht.IS_SERVICE_SPECIFIC.toString(),Ht.USE_NON_STANDARD_STACKS.toString(),Ht.SPECIAL_FEATURE_OPTINS.toString(),Ht.PURPOSE_CONSENTS.toString(),Ht.PURPOSE_LEGITIMATE_INTERESTS.toString(),Ht.PURPOSE_ONE_TREATMENT.toString(),Ht.PUBLISHER_COUNTRY_CODE.toString(),Ht.VENDOR_CONSENTS.toString(),Ht.VENDOR_LEGITIMATE_INTERESTS.toString(),Ht.PUBLISHER_RESTRICTIONS.toString()],[Ht.PUBLISHER_PURPOSES_SEGMENT_TYPE.toString(),Ht.PUBLISHER_CONSENTS.toString(),Ht.PUBLISHER_LEGITIMATE_INTERESTS.toString(),Ht.NUM_CUSTOM_PURPOSES.toString(),Ht.PUBLISHER_CUSTOM_CONSENTS.toString(),Ht.PUBLISHER_CUSTOM_LEGITIMATE_INTERESTS.toString()],[Ht.VENDORS_ALLOWED_SEGMENT_TYPE.toString(),Ht.VENDORS_ALLOWED.toString()],[Ht.VENDORS_DISCLOSED_SEGMENT_TYPE.toString(),Ht.VENDORS_DISCLOSED.toString()]]),e&&e.length>0&&this.decode(e)}encode(){let e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),this.getFieldValue(Ht.IS_SERVICE_SPECIFIC.toString())?e[1]&&e[1].length>0&&t.push(this.base64UrlEncoder.encode(e[1])):(e[2]&&e[2].length>0&&t.push(this.base64UrlEncoder.encode(e[2])),e[3]&&e[3].length>0&&t.push(this.base64UrlEncoder.encode(e[3]))),t.join(".")}decode(e){let t=e.split("."),n=[];for(let e=0;e<t.length;e++){let r=this.base64UrlEncoder.decode(t[e]);switch(r.substring(0,3)){case"000":n[0]=r;break;case"001":n[3]=r;break;case"010":n[2]=r;break;case"011":n[1]=r;break;default:throw new _n("Unable to decode segment '"+t[e]+"'")}}this.decodeSegmentsFromBitStrings(n)}setFieldValue(e,t){if(super.setFieldValue(e,t),e!==Ht.CREATED.toString()&&e!==Ht.LAST_UPDATED.toString()){const e=new Date,t=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));this.setFieldValue(Ht.CREATED.toString(),t),this.setFieldValue(Ht.LAST_UPDATED.toString(),t)}}getId(){return Wn.ID}getName(){return Wn.NAME}}!function(e){e.VERSION="Version",e.CREATED="Created",e.LAST_UPDATED="LastUpdated",e.CMP_ID="CmpId",e.CMP_VERSION="CmpVersion",e.CONSENT_SCREEN="ConsentScreen",e.CONSENT_LANGUAGE="ConsentLanguage",e.VENDOR_LIST_VERSION="VendorListVersion",e.TCF_POLICY_VERSION="TcfPolicyVersion",e.USE_NON_STANDARD_STACKS="UseNonStandardStacks",e.SPECIAL_FEATURE_EXPRESS_CONSENT="SpecialFeatureExpressConsent",e.PURPOSES_EXPRESS_CONSENT="PurposesExpressConsent",e.PURPOSES_IMPLIED_CONSENT="PurposesImpliedConsent",e.VENDOR_EXPRESS_CONSENT="VendorExpressConsent",e.VENDOR_IMPLIED_CONSENT="VendorImpliedConsent",e.SEGMENT_TYPE="SegmentType",e.PUB_PURPOSES_EXPRESS_CONSENT="PubPurposesExpressConsent",e.PUB_PURPOSES_IMPLIED_CONSENT="PubPurposesImpliedConsent",e.NUM_CUSTOM_PURPOSES="NumCustomPurposes",e.CUSTOM_PURPOSES_EXPRESS_CONSENT="CustomPurposesExpressConsent",e.CUSTOM_PURPOSES_IMPLIED_CONSENT="CustomPurposesImpliedConsent"}(Bt||(Bt={}));class Yn extends kn{static ID=5;static VERSION=2;static NAME="tcfcav1";base64UrlEncoder=new On;constructor(e){let t=new Map,n=new Date;t.set(Bt.VERSION.toString(),new bn(6,Yn.VERSION)),t.set(Bt.CREATED.toString(),new Vn(n)),t.set(Bt.LAST_UPDATED.toString(),new Vn(n)),t.set(Bt.CMP_ID.toString(),new bn(12,0)),t.set(Bt.CMP_VERSION.toString(),new bn(12,0)),t.set(Bt.CONSENT_SCREEN.toString(),new bn(6,0)),t.set(Bt.CONSENT_LANGUAGE.toString(),new Gn(2,"EN")),t.set(Bt.VENDOR_LIST_VERSION.toString(),new bn(12,0)),t.set(Bt.TCF_POLICY_VERSION.toString(),new bn(6,1)),t.set(Bt.USE_NON_STANDARD_STACKS.toString(),new Dn(!1)),t.set(Bt.SPECIAL_FEATURE_EXPRESS_CONSENT.toString(),new Un([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.set(Bt.PURPOSES_EXPRESS_CONSENT.toString(),new Un([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.set(Bt.PURPOSES_IMPLIED_CONSENT.toString(),new Un([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.set(Bt.VENDOR_EXPRESS_CONSENT.toString(),new Bn([])),t.set(Bt.VENDOR_IMPLIED_CONSENT.toString(),new Bn([])),t.set(Bt.SEGMENT_TYPE.toString(),new bn(3,3)),t.set(Bt.PUB_PURPOSES_EXPRESS_CONSENT.toString(),new Un([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),t.set(Bt.PUB_PURPOSES_IMPLIED_CONSENT.toString(),new Un([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]));let r=new bn(6,0);t.set(Bt.NUM_CUSTOM_PURPOSES.toString(),r),t.set(Bt.CUSTOM_PURPOSES_EXPRESS_CONSENT.toString(),new Mn((()=>r.getValue()),[])),t.set(Bt.CUSTOM_PURPOSES_IMPLIED_CONSENT.toString(),new Mn((()=>r.getValue()),[])),super(t,[[Bt.VERSION.toString(),Bt.CREATED.toString(),Bt.LAST_UPDATED.toString(),Bt.CMP_ID.toString(),Bt.CMP_VERSION.toString(),Bt.CONSENT_SCREEN.toString(),Bt.CONSENT_LANGUAGE.toString(),Bt.VENDOR_LIST_VERSION.toString(),Bt.TCF_POLICY_VERSION.toString(),Bt.USE_NON_STANDARD_STACKS.toString(),Bt.SPECIAL_FEATURE_EXPRESS_CONSENT.toString(),Bt.PURPOSES_EXPRESS_CONSENT.toString(),Bt.PURPOSES_IMPLIED_CONSENT.toString(),Bt.VENDOR_EXPRESS_CONSENT.toString(),Bt.VENDOR_IMPLIED_CONSENT.toString()],[Bt.SEGMENT_TYPE.toString(),Bt.PUB_PURPOSES_EXPRESS_CONSENT.toString(),Bt.PUB_PURPOSES_IMPLIED_CONSENT.toString(),Bt.NUM_CUSTOM_PURPOSES.toString(),Bt.CUSTOM_PURPOSES_EXPRESS_CONSENT.toString(),Bt.CUSTOM_PURPOSES_IMPLIED_CONSENT.toString()]]),e&&e.length>0&&this.decode(e)}encode(){let e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&e[1].length>0&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}decode(e){let t=e.split("."),n=[];for(let e=0;e<t.length;e++){let r=this.base64UrlEncoder.decode(t[e]);switch(r.substring(0,3)){case"000":n[0]=r;break;case"011":n[1]=r;break;default:throw new _n("Unable to decode segment '"+t[e]+"'")}}this.decodeSegmentsFromBitStrings(n)}setFieldValue(e,t){if(super.setFieldValue(e,t),e!==Bt.CREATED.toString()&&e!==Bt.LAST_UPDATED.toString()){const e=new Date,t=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));this.setFieldValue(Bt.CREATED.toString(),t),this.setFieldValue(Bt.LAST_UPDATED.toString(),t)}}getId(){return Yn.ID}getName(){return Yn.NAME}}class Qn extends Error{constructor(e){super(e),this.name="InvalidFieldError"}}!function(e){e.VERSION="Version",e.NOTICE="Notice",e.OPT_OUT_SALE="OptOutSale",e.LSPA_COVERED="LspaCovered"}(jt||(jt={}));class zn{static ID=6;static VERSION=1;static NAME="uspv1";fields;constructor(e){this.fields=new Map,this.fields.set(jt.VERSION.toString(),zn.VERSION),this.fields.set(jt.NOTICE.toString(),"-"),this.fields.set(jt.OPT_OUT_SALE.toString(),"-"),this.fields.set(jt.LSPA_COVERED.toString(),"-"),e&&e.length>0&&this.decode(e)}hasField(e){return this.fields.has(e)}getFieldValue(e){return this.fields.has(e)?this.fields.get(e):null}setFieldValue(e,t){if(!this.fields.has(e))throw new Qn(e+" not found");this.fields.set(e,t)}toObj(){let e={};for(const t of this.fields.keys()){let n=this.fields.get(t);e[t.toString()]=n}return e}encode(){let e="";return e+=this.getFieldValue(jt.VERSION.toString()),e+=this.getFieldValue(jt.NOTICE.toString()),e+=this.getFieldValue(jt.OPT_OUT_SALE.toString()),e+=this.getFieldValue(jt.LSPA_COVERED.toString()),e}decode(e){this.setFieldValue(jt.VERSION.toString(),parseInt(e.charAt(0))),this.setFieldValue(jt.NOTICE.toString(),e.charAt(1)),this.setFieldValue(jt.OPT_OUT_SALE.toString(),e.charAt(2)),this.setFieldValue(jt.LSPA_COVERED.toString(),e.charAt(3))}getId(){return zn.ID}getName(){return zn.NAME}}class Kn{static encode(e,t,n){let r="";for(let n=0;n<e.length;n++)r+=mn.encode(e[n],t);for(;r.length<t*n;)r+="0";return r}static decode(e,t,n){if(!/^[0-1]*$/.test(e))throw new _n("Undecodable FixedInteger '"+e+"'");if(e.length>t*n)throw new _n("Undecodable FixedIntegerList '"+e+"'");if(e.length%t!=0)throw new _n("Undecodable FixedIntegerList '"+e+"'");for(;e.length<t*n;)e+="0";e.length>t*n&&(e=e.substring(0,t*n));let r=[];for(let n=0;n<e.length;n+=t)r.push(mn.decode(e.substring(n,n+t)));for(;r.length<n;)r.push(0);return r}}class $n extends yn{elementBitStringLength;numElements;constructor(e,t){super(),this.elementBitStringLength=e,this.numElements=t.length,this.setValue(t)}encode(){return Kn.encode(this.value,this.elementBitStringLength,this.numElements)}decode(e){this.value=Kn.decode(e,this.elementBitStringLength,this.numElements)}substring(e,t){return e.substring(t,t+this.elementBitStringLength*this.numElements)}getValue(){return[...super.getValue()]}setValue(e){let t=[...e];for(let e=t.length;e<this.numElements;e++)t.push(0);t.length>this.numElements&&(t=t.slice(0,this.numElements)),super.setValue(t)}}!function(e){e.VERSION="Version",e.SHARING_NOTICE="SharingNotice",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.SHARING_OPT_OUT_NOTICE="SharingOptOutNotice",e.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",e.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE="SensitiveDataProcessingOptOutNotice",e.SENSITIVE_DATA_LIMIT_USE_NOTICE="SensitiveDataLimitUseNotice",e.SALE_OPT_OUT="SaleOptOut",e.SHARING_OPT_OUT="SharingOptOut",e.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.PERSONAL_DATA_CONSENTS="PersonalDataConsents",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",e.GPC_SEGMENT_TYPE="GpcSegmentType",e.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",e.GPC="Gpc"}(Wt||(Wt={}));class qn extends kn{static ID=7;static VERSION=1;static NAME="usnatv1";base64UrlEncoder=new On;constructor(e){let t=new Map;t.set(Wt.VERSION.toString(),new bn(6,qn.VERSION)),t.set(Wt.SHARING_NOTICE.toString(),new bn(2,0)),t.set(Wt.SALE_OPT_OUT_NOTICE.toString(),new bn(2,0)),t.set(Wt.SHARING_OPT_OUT_NOTICE.toString(),new bn(2,0)),t.set(Wt.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new bn(2,0)),t.set(Wt.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),new bn(2,0)),t.set(Wt.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),new bn(2,0)),t.set(Wt.SALE_OPT_OUT.toString(),new bn(2,0)),t.set(Wt.SHARING_OPT_OUT.toString(),new bn(2,0)),t.set(Wt.TARGETED_ADVERTISING_OPT_OUT.toString(),new bn(2,0)),t.set(Wt.SENSITIVE_DATA_PROCESSING.toString(),new $n(2,[0,0,0,0,0,0,0,0,0,0,0,0])),t.set(Wt.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new $n(2,[0,0])),t.set(Wt.PERSONAL_DATA_CONSENTS.toString(),new bn(2,0)),t.set(Wt.MSPA_COVERED_TRANSACTION.toString(),new bn(2,0)),t.set(Wt.MSPA_OPT_OUT_OPTION_MODE.toString(),new bn(2,0)),t.set(Wt.MSPA_SERVICE_PROVIDER_MODE.toString(),new bn(2,0)),t.set(Wt.GPC_SEGMENT_TYPE.toString(),new bn(2,1)),t.set(Wt.GPC_SEGMENT_INCLUDED.toString(),new Dn(!0)),t.set(Wt.GPC.toString(),new Dn(!1)),super(t,[[Wt.VERSION.toString(),Wt.SHARING_NOTICE.toString(),Wt.SALE_OPT_OUT_NOTICE.toString(),Wt.SHARING_OPT_OUT_NOTICE.toString(),Wt.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),Wt.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),Wt.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),Wt.SALE_OPT_OUT.toString(),Wt.SHARING_OPT_OUT.toString(),Wt.TARGETED_ADVERTISING_OPT_OUT.toString(),Wt.SENSITIVE_DATA_PROCESSING.toString(),Wt.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),Wt.PERSONAL_DATA_CONSENTS.toString(),Wt.MSPA_COVERED_TRANSACTION.toString(),Wt.MSPA_OPT_OUT_OPTION_MODE.toString(),Wt.MSPA_SERVICE_PROVIDER_MODE.toString()],[Wt.GPC_SEGMENT_TYPE.toString(),Wt.GPC.toString()]]),e&&e.length>0&&this.decode(e)}encode(){let e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&e[1].length>0&&!0===this.fields.get(Wt.GPC_SEGMENT_INCLUDED).getValue()&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}decode(e){let t=e.split("."),n=[],r=!1;for(let e=0;e<t.length;e++){let s=this.base64UrlEncoder.decode(t[e]);switch(s.substring(0,2)){case"00":n[0]=s;break;case"01":r=!0,n[1]=s;break;default:throw new _n("Unable to decode segment '"+t[e]+"'")}}this.decodeSegmentsFromBitStrings(n),this.fields.get(Wt.GPC_SEGMENT_INCLUDED).setValue(r)}getId(){return qn.ID}getName(){return qn.NAME}}!function(e){e.VERSION="Version",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.SHARING_OPT_OUT_NOTICE="SharingOptOutNotice",e.SENSITIVE_DATA_LIMIT_USE_NOTICE="SensitiveDataLimitUseNotice",e.SALE_OPT_OUT="SaleOptOut",e.SHARING_OPT_OUT="SharingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.PERSONAL_DATA_CONSENTS="PersonalDataConsents",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",e.GPC_SEGMENT_TYPE="GpcSegmentType",e.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",e.GPC="Gpc"}(Yt||(Yt={}));class Jn extends kn{static ID=8;static VERSION=1;static NAME="uscav1";base64UrlEncoder=new On;constructor(e){let t=new Map;t.set(Yt.VERSION.toString(),new bn(6,Jn.VERSION)),t.set(Yt.SALE_OPT_OUT_NOTICE.toString(),new bn(2,0)),t.set(Yt.SHARING_OPT_OUT_NOTICE.toString(),new bn(2,0)),t.set(Yt.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),new bn(2,0)),t.set(Yt.SALE_OPT_OUT.toString(),new bn(2,0)),t.set(Yt.SHARING_OPT_OUT.toString(),new bn(2,0)),t.set(Yt.SENSITIVE_DATA_PROCESSING.toString(),new $n(2,[0,0,0,0,0,0,0,0,0])),t.set(Yt.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new $n(2,[0,0])),t.set(Yt.PERSONAL_DATA_CONSENTS.toString(),new bn(2,0)),t.set(Yt.MSPA_COVERED_TRANSACTION.toString(),new bn(2,0)),t.set(Yt.MSPA_OPT_OUT_OPTION_MODE.toString(),new bn(2,0)),t.set(Yt.MSPA_SERVICE_PROVIDER_MODE.toString(),new bn(2,0)),t.set(Yt.GPC_SEGMENT_TYPE.toString(),new bn(2,1)),t.set(Yt.GPC_SEGMENT_INCLUDED.toString(),new Dn(!0)),t.set(Yt.GPC.toString(),new Dn(!1)),super(t,[[Yt.VERSION.toString(),Yt.SALE_OPT_OUT_NOTICE.toString(),Yt.SHARING_OPT_OUT_NOTICE.toString(),Yt.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),Yt.SALE_OPT_OUT.toString(),Yt.SHARING_OPT_OUT.toString(),Yt.SENSITIVE_DATA_PROCESSING.toString(),Yt.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),Yt.PERSONAL_DATA_CONSENTS.toString(),Yt.MSPA_COVERED_TRANSACTION.toString(),Yt.MSPA_OPT_OUT_OPTION_MODE.toString(),Yt.MSPA_SERVICE_PROVIDER_MODE.toString()],[Yt.GPC_SEGMENT_TYPE.toString(),Yt.GPC.toString()]]),e&&e.length>0&&this.decode(e)}encode(){let e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&e[1].length>0&&!0===this.fields.get(Yt.GPC_SEGMENT_INCLUDED).getValue()&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}decode(e){let t=e.split("."),n=[],r=!1;for(let e=0;e<t.length;e++){let s=this.base64UrlEncoder.decode(t[e]);switch(s.substring(0,2)){case"00":n[0]=s;break;case"01":r=!0,n[1]=s;break;default:throw new _n("Unable to decode segment '"+t[e]+"'")}}this.decodeSegmentsFromBitStrings(n),this.fields.get(Yt.GPC_SEGMENT_INCLUDED).setValue(r)}getId(){return Jn.ID}getName(){return Jn.NAME}}!function(e){e.VERSION="Version",e.SHARING_NOTICE="SharingNotice",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",e.SALE_OPT_OUT="SaleOptOut",e.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode"}(Qt||(Qt={}));class Xn extends wn{static ID=9;static VERSION=1;static NAME="usvav1";base64UrlEncoder=new On;constructor(e){let t=new Map;t.set(Qt.VERSION.toString(),new bn(6,Xn.VERSION)),t.set(Qt.SHARING_NOTICE.toString(),new bn(2,0)),t.set(Qt.SALE_OPT_OUT_NOTICE.toString(),new bn(2,0)),t.set(Qt.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new bn(2,0)),t.set(Qt.SALE_OPT_OUT.toString(),new bn(2,0)),t.set(Qt.TARGETED_ADVERTISING_OPT_OUT.toString(),new bn(2,0)),t.set(Qt.SENSITIVE_DATA_PROCESSING.toString(),new $n(2,[0,0,0,0,0,0,0,0])),t.set(Qt.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new bn(2,0)),t.set(Qt.MSPA_COVERED_TRANSACTION.toString(),new bn(2,0)),t.set(Qt.MSPA_OPT_OUT_OPTION_MODE.toString(),new bn(2,0)),t.set(Qt.MSPA_SERVICE_PROVIDER_MODE.toString(),new bn(2,0)),super(t,[Qt.VERSION.toString(),Qt.SHARING_NOTICE.toString(),Qt.SALE_OPT_OUT_NOTICE.toString(),Qt.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),Qt.SALE_OPT_OUT.toString(),Qt.TARGETED_ADVERTISING_OPT_OUT.toString(),Qt.SENSITIVE_DATA_PROCESSING.toString(),Qt.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),Qt.MSPA_COVERED_TRANSACTION.toString(),Qt.MSPA_OPT_OUT_OPTION_MODE.toString(),Qt.MSPA_SERVICE_PROVIDER_MODE.toString()]),e&&e.length>0&&this.decode(e)}encode(){return this.base64UrlEncoder.encode(this.encodeToBitString())}decode(e){this.decodeFromBitString(this.base64UrlEncoder.decode(e))}getId(){return Xn.ID}getName(){return Xn.NAME}}!function(e){e.VERSION="Version",e.SHARING_NOTICE="SharingNotice",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",e.SALE_OPT_OUT="SaleOptOut",e.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",e.GPC_SEGMENT_TYPE="GpcSegmentType",e.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",e.GPC="Gpc"}(zt||(zt={}));class Zn extends kn{static ID=10;static VERSION=1;static NAME="uscov1";base64UrlEncoder=new On;constructor(e){let t=new Map;t.set(zt.VERSION.toString(),new bn(6,Zn.VERSION)),t.set(zt.SHARING_NOTICE.toString(),new bn(2,0)),t.set(zt.SALE_OPT_OUT_NOTICE.toString(),new bn(2,0)),t.set(zt.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new bn(2,0)),t.set(zt.SALE_OPT_OUT.toString(),new bn(2,0)),t.set(zt.TARGETED_ADVERTISING_OPT_OUT.toString(),new bn(2,0)),t.set(zt.SENSITIVE_DATA_PROCESSING.toString(),new $n(2,[0,0,0,0,0,0,0])),t.set(zt.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new bn(2,0)),t.set(zt.MSPA_COVERED_TRANSACTION.toString(),new bn(2,0)),t.set(zt.MSPA_OPT_OUT_OPTION_MODE.toString(),new bn(2,0)),t.set(zt.MSPA_SERVICE_PROVIDER_MODE.toString(),new bn(2,0)),t.set(zt.GPC_SEGMENT_TYPE.toString(),new bn(2,1)),t.set(zt.GPC_SEGMENT_INCLUDED.toString(),new Dn(!0)),t.set(zt.GPC.toString(),new Dn(!1)),super(t,[[zt.VERSION.toString(),zt.SHARING_NOTICE.toString(),zt.SALE_OPT_OUT_NOTICE.toString(),zt.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),zt.SALE_OPT_OUT.toString(),zt.TARGETED_ADVERTISING_OPT_OUT.toString(),zt.SENSITIVE_DATA_PROCESSING.toString(),zt.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),zt.MSPA_COVERED_TRANSACTION.toString(),zt.MSPA_OPT_OUT_OPTION_MODE.toString(),zt.MSPA_SERVICE_PROVIDER_MODE.toString()],[zt.GPC_SEGMENT_TYPE.toString(),zt.GPC.toString()]]),e&&e.length>0&&this.decode(e)}encode(){let e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&e[1].length>0&&!0===this.fields.get(zt.GPC_SEGMENT_INCLUDED).getValue()&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}decode(e){let t=e.split("."),n=[],r=!1;for(let e=0;e<t.length;e++){let s=this.base64UrlEncoder.decode(t[e]);switch(s.substring(0,2)){case"00":n[0]=s;break;case"01":r=!0,n[1]=s;break;default:throw new _n("Unable to decode segment '"+t[e]+"'")}}this.decodeSegmentsFromBitStrings(n),this.fields.get(zt.GPC_SEGMENT_INCLUDED).setValue(r)}getId(){return Zn.ID}getName(){return Zn.NAME}}!function(e){e.VERSION="Version",e.SHARING_NOTICE="SharingNotice",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",e.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE="SensitiveDataProcessingOptOutNotice",e.SALE_OPT_OUT="SaleOptOut",e.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode"}(Kt||(Kt={}));class er extends wn{static ID=11;static VERSION=1;static NAME="usutv1";base64UrlEncoder=new On;constructor(e){let t=new Map;t.set(Kt.VERSION.toString(),new bn(6,er.VERSION)),t.set(Kt.SHARING_NOTICE.toString(),new bn(2,0)),t.set(Kt.SALE_OPT_OUT_NOTICE.toString(),new bn(2,0)),t.set(Kt.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new bn(2,0)),t.set(Kt.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),new bn(2,0)),t.set(Kt.SALE_OPT_OUT.toString(),new bn(2,0)),t.set(Kt.TARGETED_ADVERTISING_OPT_OUT.toString(),new bn(2,0)),t.set(Kt.SENSITIVE_DATA_PROCESSING.toString(),new $n(2,[0,0,0,0,0,0,0,0])),t.set(Kt.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new bn(2,0)),t.set(Kt.MSPA_COVERED_TRANSACTION.toString(),new bn(2,0)),t.set(Kt.MSPA_OPT_OUT_OPTION_MODE.toString(),new bn(2,0)),t.set(Kt.MSPA_SERVICE_PROVIDER_MODE.toString(),new bn(2,0)),super(t,[Kt.VERSION.toString(),Kt.SHARING_NOTICE.toString(),Kt.SALE_OPT_OUT_NOTICE.toString(),Kt.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),Kt.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),Kt.SALE_OPT_OUT.toString(),Kt.TARGETED_ADVERTISING_OPT_OUT.toString(),Kt.SENSITIVE_DATA_PROCESSING.toString(),Kt.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),Kt.MSPA_COVERED_TRANSACTION.toString(),Kt.MSPA_OPT_OUT_OPTION_MODE.toString(),Kt.MSPA_SERVICE_PROVIDER_MODE.toString()]),e&&e.length>0&&this.decode(e)}encode(){return this.base64UrlEncoder.encode(this.encodeToBitString())}decode(e){this.decodeFromBitString(this.base64UrlEncoder.decode(e))}getId(){return er.ID}getName(){return er.NAME}}!function(e){e.VERSION="Version",e.SHARING_NOTICE="SharingNotice",e.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",e.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",e.SALE_OPT_OUT="SaleOptOut",e.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",e.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",e.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",e.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",e.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",e.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",e.GPC_SEGMENT_TYPE="GpcSegmentType",e.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",e.GPC="Gpc"}($t||($t={}));class tr extends kn{static ID=12;static VERSION=1;static NAME="usctv1";base64UrlEncoder=new On;constructor(e){let t=new Map;t.set($t.VERSION.toString(),new bn(6,tr.VERSION)),t.set($t.SHARING_NOTICE.toString(),new bn(2,0)),t.set($t.SALE_OPT_OUT_NOTICE.toString(),new bn(2,0)),t.set($t.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new bn(2,0)),t.set($t.SALE_OPT_OUT.toString(),new bn(2,0)),t.set($t.TARGETED_ADVERTISING_OPT_OUT.toString(),new bn(2,0)),t.set($t.SENSITIVE_DATA_PROCESSING.toString(),new $n(2,[0,0,0,0,0,0,0,0])),t.set($t.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new $n(2,[0,0,0])),t.set($t.MSPA_COVERED_TRANSACTION.toString(),new bn(2,0)),t.set($t.MSPA_OPT_OUT_OPTION_MODE.toString(),new bn(2,0)),t.set($t.MSPA_SERVICE_PROVIDER_MODE.toString(),new bn(2,0)),t.set($t.GPC_SEGMENT_TYPE.toString(),new bn(2,1)),t.set($t.GPC_SEGMENT_INCLUDED.toString(),new Dn(!0)),t.set($t.GPC.toString(),new Dn(!1)),super(t,[[$t.VERSION.toString(),$t.SHARING_NOTICE.toString(),$t.SALE_OPT_OUT_NOTICE.toString(),$t.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),$t.SALE_OPT_OUT.toString(),$t.TARGETED_ADVERTISING_OPT_OUT.toString(),$t.SENSITIVE_DATA_PROCESSING.toString(),$t.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),$t.MSPA_COVERED_TRANSACTION.toString(),$t.MSPA_OPT_OUT_OPTION_MODE.toString(),$t.MSPA_SERVICE_PROVIDER_MODE.toString()],[$t.GPC_SEGMENT_TYPE.toString(),$t.GPC.toString()]]),e&&e.length>0&&this.decode(e)}encode(){let e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&e[1].length>0&&!0===this.fields.get($t.GPC_SEGMENT_INCLUDED).getValue()&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}decode(e){let t=e.split("."),n=[],r=!1;for(let e=0;e<t.length;e++){let s=this.base64UrlEncoder.decode(t[e]);switch(s.substring(0,2)){case"00":n[0]=s;break;case"01":r=!0,n[1]=s;break;default:throw new _n("Unable to decode segment '"+t[e]+"'")}}this.decodeSegmentsFromBitStrings(n),this.fields.get($t.GPC_SEGMENT_INCLUDED).setValue(r)}getId(){return tr.ID}getName(){return tr.NAME}}class nr{static SECTION_ID_NAME_MAP=new Map([[Wn.ID,Wn.NAME],[Yn.ID,Yn.NAME],[zn.ID,zn.NAME],[qn.ID,qn.NAME],[Jn.ID,Jn.NAME],[Xn.ID,Xn.NAME],[Zn.ID,Zn.NAME],[er.ID,er.NAME],[tr.ID,tr.NAME]]);static SECTION_ORDER=[Wn.NAME,Yn.NAME,zn.NAME,qn.NAME,Jn.NAME,Xn.NAME,Zn.NAME,er.NAME,tr.NAME]}class rr extends _n{constructor(e){super(e),this.name="LazyDecodingError"}}class sr{sections=new Map;encodedString;decoded;dirty;constructor(e){e?(this.encodedString=e,this.decoded=!1,this.dirty=!1):(this.encodedString="DBAA",this.decoded=!1,this.dirty=!1)}setFieldValue(e,t,n){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new rr(e.message)}let r=null;if(this.sections.has(e)?r=this.sections.get(e):e===Yn.NAME?(r=new Yn,this.sections.set(Yn.NAME,r)):e===Wn.NAME?(r=new Wn,this.sections.set(Wn.NAME,r)):e===zn.NAME?(r=new zn,this.sections.set(zn.NAME,r)):e===qn.NAME?(r=new qn,this.sections.set(qn.NAME,r)):e===Jn.NAME?(r=new Jn,this.sections.set(Jn.NAME,r)):e===Xn.NAME?(r=new Xn,this.sections.set(Xn.NAME,r)):e===Zn.NAME?(r=new Zn,this.sections.set(Zn.NAME,r)):e===er.NAME?(r=new er,this.sections.set(er.NAME,r)):e===tr.NAME&&(r=new tr,this.sections.set(tr.NAME,r)),!r)throw new Qn(e+"."+t+" not found");r.setFieldValue(t,n),this.dirty=!0}setFieldValueBySectionId(e,t,n){this.setFieldValue(nr.SECTION_ID_NAME_MAP.get(e),t,n)}getFieldValue(e,t){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new rr(e.message)}return this.sections.has(e)?this.sections.get(e).getFieldValue(t):null}getFieldValueBySectionId(e,t){return this.getFieldValue(nr.SECTION_ID_NAME_MAP.get(e),t)}hasField(e,t){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new rr(e.message)}return!!this.sections.has(e)&&this.sections.get(e).hasField(t)}hasFieldBySectionId(e,t){return this.hasField(nr.SECTION_ID_NAME_MAP.get(e),t)}hasSection(e){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new rr(e.message)}return this.sections.has(e)}hasSectionId(e){return this.hasSection(nr.SECTION_ID_NAME_MAP.get(e))}deleteSection(e){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new rr(e.message)}this.sections.delete(e),this.dirty=!0}deleteSectionById(e){this.deleteSection(nr.SECTION_ID_NAME_MAP.get(e))}clear(){this.sections.clear(),this.encodedString="DBAA",this.decoded=!1,this.dirty=!1}getHeader(){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new rr(e.message)}let e=new Pn;return e.setFieldValue("SectionIds",this.getSectionIds()),e.toObj()}getSection(e){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new rr(e.message)}return this.sections.has(e)?this.sections.get(e).toObj():null}getSectionIds(){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new rr(e.message)}let e=[];for(let t=0;t<nr.SECTION_ORDER.length;t++){let n=nr.SECTION_ORDER[t];if(this.sections.has(n)){let t=this.sections.get(n);e.push(t.getId())}}return e}encode(){if(!this.dirty)return this.encodedString;if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new rr(e.message)}let e=[],t=[];for(let n=0;n<nr.SECTION_ORDER.length;n++){let r=nr.SECTION_ORDER[n];if(this.sections.has(r)){let n=this.sections.get(r);e.push(n.encode()),t.push(n.getId())}}let n=new Pn;return n.setFieldValue("SectionIds",this.getSectionIds()),e.unshift(n.encode()),this.encodedString=e.join("~"),this.dirty=!1,this.encodedString}decode(e){this.encodedString=e,this.decoded=!1,this.dirty=!0,this.sections.clear();let t=e.split("~"),n=new Pn(t[0]);this.sections.set(Pn.NAME,n);let r=n.getFieldValue("SectionIds");for(let e=0;e<r.length;e++)if(r[e]===Yn.ID){let n=new Yn(t[e+1]);this.sections.set(Yn.NAME,n)}else if(r[e]===Wn.ID){let n=new Wn(t[e+1]);this.sections.set(Wn.NAME,n)}else if(r[e]===zn.ID){let n=new zn(t[e+1]);this.sections.set(zn.NAME,n)}else if(r[e]===qn.ID){let n=new qn(t[e+1]);this.sections.set(qn.NAME,n)}else if(r[e]===Jn.ID){let n=new Jn(t[e+1]);this.sections.set(Jn.NAME,n)}else if(r[e]===Xn.ID){let n=new Xn(t[e+1]);this.sections.set(Xn.NAME,n)}else if(r[e]===Zn.ID){let n=new Zn(t[e+1]);this.sections.set(Zn.NAME,n)}else if(r[e]===er.ID){let n=new er(t[e+1]);this.sections.set(er.NAME,n)}else if(r[e]===tr.ID){let n=new tr(t[e+1]);this.sections.set(tr.NAME,n)}this.decoded=!0,this.dirty=!1}encodeSection(e){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new rr(e.message)}return this.sections.has(e)?this.sections.get(e).encode():null}encodeSectionById(e){return this.encodeSection(nr.SECTION_ID_NAME_MAP.get(e))}decodeSection(e,t){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new rr(e.message)}let n=null;this.sections.has(e)?n=this.sections.get(e):e===Yn.NAME?(n=new Yn,this.sections.set(Yn.NAME,n)):e===Wn.NAME?(n=new Wn,this.sections.set(Wn.NAME,n)):e===zn.NAME?(n=new zn,this.sections.set(zn.NAME,n)):e===qn.NAME?(n=new qn,this.sections.set(qn.NAME,n)):e===Jn.NAME?(n=new Jn,this.sections.set(Jn.NAME,n)):e===Xn.NAME?(n=new Xn,this.sections.set(Xn.NAME,n)):e===Zn.NAME?(n=new Zn,this.sections.set(Zn.NAME,n)):e===er.NAME?(n=new er,this.sections.set(er.NAME,n)):e===tr.NAME&&(n=new tr,this.sections.set(tr.NAME,n)),n&&n.decode(t)}decodeSectionById(e,t){this.decodeSection(nr.SECTION_ID_NAME_MAP.get(e),t)}toObject(){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new rr(e.message)}let e={};for(let t=0;t<nr.SECTION_ORDER.length;t++){let n=nr.SECTION_ORDER[t];this.sections.has(n)&&(e[n]=this.sections.get(n).toObj())}return e}}class ir{gppVersion="1.1";supportedAPIs=[];eventQueue=new fn(this);cmpStatus=Ut.LOADING;cmpDisplayStatus=xt.HIDDEN;signalStatus=kt.NOT_READY;applicableSections=[];gppModel=new sr;cmpId;cmpVersion;eventStatus;reset(){this.eventQueue.clear(),this.cmpStatus=Ut.LOADING,this.cmpDisplayStatus=xt.HIDDEN,this.signalStatus=kt.NOT_READY,this.applicableSections=[],this.supportedAPIs=[],this.gppModel=new sr,delete this.cmpId,delete this.cmpVersion,delete this.eventStatus}}class or extends Error{constructor(e){super(e),this.name="GVLError"}}class ar{static langSet=new Set(["BG","CA","CS","DA","DE","EL","EN","ES","ET","FI","FR","HR","HU","IT","JA","LT","LV","MT","NL","NO","PL","PT","RO","RU","SK","SL","SV","TR","ZH"]);has(e){return ar.langSet.has(e)}forEach(e){ar.langSet.forEach(e)}get size(){return ar.langSet.size}}class cr{static absCall(e,t,n,r){return new Promise(((s,i)=>{const o=new XMLHttpRequest;o.withCredentials=n,o.addEventListener("load",(()=>{if(o.readyState==XMLHttpRequest.DONE)if(o.status>=200&&o.status<300){let e=o.response;if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}s(e)}else i(new Error(`HTTP Status: ${o.status} response type: ${o.responseType}`))})),o.addEventListener("error",(()=>{i(new Error("error"))})),o.addEventListener("abort",(()=>{i(new Error("aborted"))})),null===t?o.open("GET",e,!0):o.open("POST",e,!0),o.responseType="json",o.timeout=r,o.ontimeout=()=>{i(new Error("Timeout "+r+"ms "+e))},o.send(t)}))}static post(e,t,n=!1,r=0){return this.absCall(e,JSON.stringify(t),n,r)}static fetch(e,t=!1,n=0){return this.absCall(e,null,t,n)}}class lr{vendors;static DEFAULT_LANGUAGE="EN";consentLanguages=new ar;gvlSpecificationVersion;vendorListVersion;tcfPolicyVersion;lastUpdated;purposes;specialPurposes;features;specialFeatures;stacks;dataCategories;language=lr.DEFAULT_LANGUAGE;vendorIds;ready=!1;fullVendorList;byPurposeVendorMap;bySpecialPurposeVendorMap;byFeatureVendorMap;bySpecialFeatureVendorMap;baseUrl;languageFilename="purposes-[LANG].json";static fromVendorList(e){let t=new lr;return t.populate(e),t}static async fromUrl(e){let t=e.baseUrl;if(!t||0===t.length)throw new or("Invalid baseUrl: '"+t+"'");if(/^https?:\/\/vendorlist\.consensu\.org\//.test(t))throw new or("Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache");t.length>0&&"/"!==t[t.length-1]&&(t+="/");let n=new lr;if(n.baseUrl=t,e.languageFilename?n.languageFilename=e.languageFilename:n.languageFilename="purposes-[LANG].json",e.version>0){let r=e.versionedFilename;r||(r="archives/vendor-list-v[VERSION].json");let s=t+r.replace("[VERSION]",String(e.version));n.populate(await cr.fetch(s))}else{let r=e.latestFilename;r||(r="vendor-list.json");let s=t+r;n.populate(await cr.fetch(s))}return n}async changeLanguage(e){const t=e.toUpperCase();if(!this.consentLanguages.has(t))throw new or(`unsupported language ${e}`);if(t!==this.language){this.language=t;const n=this.baseUrl+this.languageFilename.replace("[LANG]",e);try{this.populate(await cr.fetch(n))}catch(e){throw new or("unable to load language: "+e.message)}}}getJson(){return JSON.parse(JSON.stringify({gvlSpecificationVersion:this.gvlSpecificationVersion,vendorListVersion:this.vendorListVersion,tcfPolicyVersion:this.tcfPolicyVersion,lastUpdated:this.lastUpdated,purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,dataCategories:this.dataCategories,vendors:this.fullVendorList}))}isVendorList(e){return void 0!==e&&void 0!==e.vendors}populate(e){this.purposes=e.purposes,this.specialPurposes=e.specialPurposes,this.features=e.features,this.specialFeatures=e.specialFeatures,this.stacks=e.stacks,this.dataCategories=e.dataCategories,this.isVendorList(e)&&(this.gvlSpecificationVersion=e.gvlSpecificationVersion,this.tcfPolicyVersion=e.tcfPolicyVersion,this.vendorListVersion=e.vendorListVersion,this.lastUpdated=e.lastUpdated,"string"==typeof this.lastUpdated&&(this.lastUpdated=new Date(this.lastUpdated)),this.vendors=e.vendors,this.fullVendorList=e.vendors,this.mapVendors(),this.ready=!0)}mapVendors(e){this.byPurposeVendorMap={},this.bySpecialPurposeVendorMap={},this.byFeatureVendorMap={},this.bySpecialFeatureVendorMap={},Object.keys(this.purposes).forEach((e=>{this.byPurposeVendorMap[e]={legInt:new Set,consent:new Set,flexible:new Set}})),Object.keys(this.specialPurposes).forEach((e=>{this.bySpecialPurposeVendorMap[e]=new Set})),Object.keys(this.features).forEach((e=>{this.byFeatureVendorMap[e]=new Set})),Object.keys(this.specialFeatures).forEach((e=>{this.bySpecialFeatureVendorMap[e]=new Set})),Array.isArray(e)||(e=Object.keys(this.fullVendorList).map((e=>+e))),this.vendorIds=new Set(e),this.vendors=e.reduce(((e,t)=>{const n=this.vendors[String(t)];return n&&void 0===n.deletedDate&&(n.purposes.forEach((e=>{this.byPurposeVendorMap[String(e)].consent.add(t)})),n.specialPurposes.forEach((e=>{this.bySpecialPurposeVendorMap[String(e)].add(t)})),n.legIntPurposes.forEach((e=>{this.byPurposeVendorMap[String(e)].legInt.add(t)})),n.flexiblePurposes&&n.flexiblePurposes.forEach((e=>{this.byPurposeVendorMap[String(e)].flexible.add(t)})),n.features.forEach((e=>{this.byFeatureVendorMap[String(e)].add(t)})),n.specialFeatures.forEach((e=>{this.bySpecialFeatureVendorMap[String(e)].add(t)})),e[t]=n),e}),{})}getFilteredVendors(e,t,n,r){const s=e.charAt(0).toUpperCase()+e.slice(1);let i;const o={};return i="purpose"===e&&n?this["by"+s+"VendorMap"][String(t)][n]:this["by"+(r?"Special":"")+s+"VendorMap"][String(t)],i.forEach((e=>{o[String(e)]=this.vendors[String(e)]})),o}getVendorsWithConsentPurpose(e){return this.getFilteredVendors("purpose",e,"consent")}getVendorsWithLegIntPurpose(e){return this.getFilteredVendors("purpose",e,"legInt")}getVendorsWithFlexiblePurpose(e){return this.getFilteredVendors("purpose",e,"flexible")}getVendorsWithSpecialPurpose(e){return this.getFilteredVendors("purpose",e,void 0,!0)}getVendorsWithFeature(e){return this.getFilteredVendors("feature",e)}getVendorsWithSpecialFeature(e){return this.getFilteredVendors("feature",e,void 0,!0)}narrowVendorsTo(e){this.mapVendors(e)}get isReady(){return this.ready}static isInstanceOf(e){return"object"==typeof e&&"function"==typeof e.narrowVendorsTo}}class ur{callResponder;cmpApiContext;constructor(e,t,n){this.cmpApiContext=new ir,this.cmpApiContext.cmpId=e,this.cmpApiContext.cmpVersion=t,this.callResponder=new En(this.cmpApiContext,n)}fireEvent(e,t){this.cmpApiContext.eventQueue.exec(e,t)}fireErrorEvent(e){this.cmpApiContext.eventQueue.exec("error",e)}fireSectionChange(e){this.cmpApiContext.eventQueue.exec("sectionChange",e)}getEventStatus(){return this.cmpApiContext.eventStatus}setEventStatus(e){this.cmpApiContext.eventStatus=e}getCmpStatus(){return this.cmpApiContext.cmpStatus}setCmpStatus(e){this.cmpApiContext.cmpStatus=e,this.cmpApiContext.eventQueue.exec("cmpStatus",e)}getCmpDisplayStatus(){return this.cmpApiContext.cmpDisplayStatus}setCmpDisplayStatus(e){this.cmpApiContext.cmpDisplayStatus=e,this.cmpApiContext.eventQueue.exec("cmpDisplayStatus",e)}getSignalStatus(){return this.cmpApiContext.signalStatus}setSignalStatus(e){this.cmpApiContext.signalStatus=e,this.cmpApiContext.eventQueue.exec("signalStatus",e)}getApplicableSections(){return this.cmpApiContext.applicableSections}setApplicableSections(e){this.cmpApiContext.applicableSections=e}getSupportedAPIs(){return this.cmpApiContext.supportedAPIs}setSupportedAPIs(e){this.cmpApiContext.supportedAPIs=e}setGppString(e){this.cmpApiContext.gppModel.decode(e)}getGppString(){return this.cmpApiContext.gppModel.encode()}setSectionString(e,t){this.cmpApiContext.gppModel.decodeSection(e,t)}setSectionStringById(e,t){this.setSectionString(nr.SECTION_ID_NAME_MAP.get(e),t)}getSectionString(e){return this.cmpApiContext.gppModel.encodeSection(e)}getSectionStringById(e){return this.getSectionString(nr.SECTION_ID_NAME_MAP.get(e))}setFieldValue(e,t,n){this.cmpApiContext.gppModel.setFieldValue(e,t,n)}setFieldValueBySectionId(e,t,n){this.setFieldValue(nr.SECTION_ID_NAME_MAP.get(e),t,n)}getFieldValue(e,t){return this.cmpApiContext.gppModel.getFieldValue(e,t)}getFieldValueBySectionId(e,t){return this.getFieldValue(nr.SECTION_ID_NAME_MAP.get(e),t)}getSection(e){return this.cmpApiContext.gppModel.getSection(e)}getSectionById(e){return this.getSection(nr.SECTION_ID_NAME_MAP.get(e))}hasSection(e){return this.cmpApiContext.gppModel.hasSection(e)}hasSectionId(e){return this.hasSection(nr.SECTION_ID_NAME_MAP.get(e))}deleteSection(e){this.cmpApiContext.gppModel.deleteSection(e)}deleteSectionById(e){this.deleteSection(nr.SECTION_ID_NAME_MAP.get(e))}clear(){this.cmpApiContext.gppModel.clear()}getObject(){return this.cmpApiContext.gppModel.toObject()}getGvlFromVendorList(e){return lr.fromVendorList(e)}async getGvlFromUrl(e){return lr.fromUrl(e)}}function dr(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,s)}function pr(e){return hr.apply(this,arguments)}function hr(){var e;return e=function(e){var t,n;return function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=function(e){var t=fe(e,"__gppLocator");if(!t)throw new Error("No __gppLocator frame");return t}(e),[4,Er(t)];case 1:return[2,gr(r.sent().gppString,e)];case 2:return n=r.sent(),console.log("GPP Error: ",n),[2,null];case 3:return[2]}}))},hr=function(){var t=this,n=arguments;return new Promise((function(r,s){var i=e.apply(t,n);function o(e){dr(i,r,s,o,a,"next",e)}function a(e){dr(i,r,s,o,a,"throw",e)}o(void 0)}))},hr.apply(this,arguments)}var Sr={tcfeu:{id:2,prefix:"tcfeuv2"},tcfca:{id:5,prefix:"tcfcav1"},usp:{id:6,prefix:"uspv1"},usnat:{id:7,prefix:"usnat"},usca:{id:8,prefix:"usca"},usva:{id:9,prefix:"usva"},usco:{id:10,prefix:"usco"},usut:{id:11,prefix:"usut"},usct:{id:12,prefix:"usct"}};function gr(e,t){!function(e){e.__gpp=function(){}}(t);var n=new ur(Ee.id,Ee.version);return n.setGppString(e),{tcf:n.getSectionString(Sr.tcfeu.prefix),usp:n.getSectionString(Sr.usp.prefix)}}function Er(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ping",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;return new Promise((function(r){var s="gpp-".concat(t,"-").concat(Math.random());!function(e,t,n){t.addEventListener("message",(function(t){try{var r="string"==typeof t.data?JSON.parse(t.data):t.data,s=null==r?void 0:r.__gppReturn;s&&s.callId===n&&e(s.returnValue)}catch(e){}}),!1)}(r,n,s),function(e,t){var n=t.command,r=t.callId;e.postMessage({__gppCall:{command:n,parameter:"",version:"1.1",callId:r}},"*")}(e,{command:t,callId:s})}))}function fr(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,s)}function _r(e,t,n,r,s){return mr.apply(this,arguments)}function mr(){var e;return e=function(e,t,n,r,s){var o,a,c,l,u,d,p,h;return function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(S){switch(S.label){case 0:return o=1===n.user.can_serve_ads,a=1===n.user.can_cookie,c=r.frameWindow,n.gpp?[4,pr(c)]:[3,2];case 1:(null==(l=S.sent())?void 0:l.tcf)&&(e.consent=l.tcf),(null==l?void 0:l.usp)&&(n.uspString=l.usp),S.label=2;case 2:return!n.usp||n.uspString?[3,4]:[4,nn(c)];case 3:u=S.sent(),n.uspString=u,S.label=4;case 4:return n.partner_tcf_status===i.PARTNER_TCF_STATUS||n["dianomi-tcf"]?e.consent?(g=e.consent,(E=function(e){try{var t=JSON.parse(decodeURIComponent(e)).gdpr;if(t&&"string"==typeof t)return t}catch(t){if(e)return e}return null}(g))&&function(e){try{return t=e,new qe(Ee.id,Ee.version,!0).update(t),!0}catch(e){return!1}var t}(E)?[3,6]:[4,s(e,t,n,null)]):[3,6]:[3,12];case 5:return S.sent(),[2];case 6:return[4,it(o,a,c)];case 7:return d=S.sent(),(null==n?void 0:n.identity)&&d?[4,Xt({identity:n.identity,dianomiContextHost:e.host,tcfPermissions:d,inGDPR:1===(null==n||null===(p=n.user)||void 0===p?void 0:p.in_gdpr),dnt:1===(null==n||null===(h=n.user)||void 0===h?void 0:h.dnt)},r)]:[3,9];case 8:n.identity_values=S.sent(),S.label=9;case 9:return(t.getAttribute("data-dianomi-context-loaded")||i.CONTEXT_NOT_LOADED)===i.CONTEXT_LOADED?[3,11]:[4,s(e,t,n,d)];case 10:S.sent(),S.label=11;case 11:return[2];case 12:return[4,s(e,t,n,null)];case 13:return S.sent(),[2]}var g,E}))},mr=function(){var t=this,n=arguments;return new Promise((function(r,s){var i=e.apply(t,n);function o(e){fr(i,r,s,o,a,"next",e)}function a(e){fr(i,r,s,o,a,"throw",e)}o(void 0)}))},mr.apply(this,arguments)}function Ir(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vr(e,t,n){e.forEach((function(e){!function(e,t){navigator.sendBeacon("https://".concat(t,"/cgi-bin/reporting.pl"),JSON.stringify(e))}(function(e,t){var n=t.videoId,r=t.uniqueId,s=t.adId,i=t.url,o=t.adType,a={type:e.type,url:i,body:e.body,unique_id:r,ad_type:o};return n&&(a.video_id=n),s&&(a.ad_id=s),a}(e,t),n)}))}function Or(e,t,n){if("sendBeacon"in navigator&&"ReportingObserver"in window&&"JSON"in window){var r=(i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ir(e,t,n[t])}))}return e}({},t),o=null!=(o={url:D().location.href,adType:n})?o:{},Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(o)).forEach((function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(o,e))})),i),s=new ReportingObserver((function(t){vr(t,r,e)}),{buffered:!0,types:["intervention"]});s.observe(),window.addEventListener("pagehide",(function(){var t=s.takeRecords();t.length>0&&vr(t,r,e)}))}var i,o}function Tr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nr(e){var t,n;function r(t,n){try{var i=e[t](n),o=i.value,a=o instanceof br;Promise.resolve(a?o.wrapped:o).then((function(e){a?r("next",e):s(i.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(e){s("throw",e)}}function s(e,s){switch(e){case"return":t.resolve({value:s,done:!0});break;case"throw":t.reject(s);break;default:t.resolve({value:s,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,s){return new Promise((function(i,o){var a={key:e,arg:s,resolve:i,reject:o,next:null};n?n=n.next=a:(t=n=a,r(e,s))}))},"function"!=typeof e.return&&(this.return=void 0)}function Ar(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,s)}function yr(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var i=e.apply(t,n);function o(e){Ar(i,r,s,o,a,"next",e)}function a(e){Ar(i,r,s,o,a,"throw",e)}o(void 0)}))}}function Cr(e){return new br(e)}function br(e){this.wrapped=e}function wr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){wr(e,t,n[t])}))}return e}function Dr(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Rr(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function Vr(e,t,n,a){var l,u,p="20240416164048142",_=0,m=0,I=1,v={videoDebug:m,tcfDebug:m};function O(e){var t="".concat(e.partner_id,".").concat(e.cfid);return e.name&&(t="".concat(t,".").concat(e.name)),t}function D(e,t,n,r){return L.apply(this,arguments)}function L(){return L=yr((function(a,c,d,m){var I,N,D,L,G,k,W,Y,Q,z,K,$,q,J,X,Z,ee,te,ne,re,se,ie,oe,ae;function ce(e,t,n){if(e.when&&e.when[t]){for(var r=e.when[t],s=0;s<r.length;s++)if(r[s]===n)return!0;return!1}return!0}function le(e,t,n){return ue.apply(this,arguments)}function ue(){return ue=yr((function(n,r,s){var i,o,a,c,l,u,d,p,h,S,g,E,_,m,I=arguments;function v(){a()?(e.postMessage({type:"dianomi-native-ad",responsive:!0,nativeUnit:s},"*"),l.style.flexDirection="column"):(e.postMessage({type:"dianomi-native-ad",responsive:!1,nativeUnit:s},"*"),l.style.flexDirection="row")}return Rr(this,(function(s){switch(s.label){case 0:i=I.length>3&&void 0!==I[3]?I[3]:G,o=r.responsiveWidth||"0",a=function(){return L<=Number(o)},(c=t.createElement("div")).id="dianomi-native-main-container",(l=t.createElement("div")).id="dianomi-native-container",l.style.display="flex",l.style.flexDirection=a()?"column":"row",c.appendChild(l),i.appendChild(c),u=!0,d=!1,p=void 0,s.label=1;case 1:s.trys.push([1,6,7,8]),h=n[Symbol.iterator](),s.label=2;case 2:return(u=(S=h.next()).done)?[3,5]:(g=S.value,[4,Y[g.type](g.args,l,!0,a())]);case 3:s.sent(),s.label=4;case 4:return u=!0,[3,2];case 5:return[3,8];case 6:return E=s.sent(),d=!0,p=E,[3,8];case 7:try{u||null==h.return||h.return()}finally{if(d)throw p}return[7];case 8:return _=0,m=setInterval((function(){_>20&&clearInterval(m),v(),_++}),100),f(e,(function(){v(),clearInterval(m)})),[2]}}))})),ue.apply(this,arguments)}function de(e,t){return pe.apply(this,arguments)}function pe(){return pe=yr((function(n,r){var s,i,o;return Rr(this,(function(a){switch(a.label){case 0:return C("native",n)?(le(n.units,{},"0",r),[3,5]):[3,1];case 1:return y(["smartad","video"],n)?(C("smartad",n)&&r&&(r=V(r,n.args,!1,e),f(e,(function(){return S(r,n.args,L)}))),r?(s=n.args,i=n.type,C("googleTag",n)||C("iframe",n)||!n.seed||(s=Dr(Pr({},s),{seed:n.seed})),[4,Y[i](s,r,!1,!0)]):[3,3]):[3,4];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:C("passback",n)&&((o=t.createElement("iframe")).classList.add("passback-container"),o.srcdoc=n.args.passbackTag,o.style.border="none",o.width="100%",o.onload=function(){var e;o.style.height="".concat(null===(e=o.contentWindow)||void 0===e?void 0:e.innerHeight,"px")},r.append(o)),a.label=5;case 5:return[2]}}))})),pe.apply(this,arguments)}return Rr(this,(function(ue){switch(ue.label){case 0:if(N=!1,ge=t.getElementById("dianomi-context-wrapper"),D=null==ge?void 0:ge.getAttribute("data-dianomi-parent-iframe-id"),d["dianomi-tcf"]&&console.log("contextfeed tcf debug enabled, context id",null==a?void 0:a.id,"tcfPermissions=",m),(d["dianomi-tcf"]||d.partner_tcf_status==i.PARTNER_TCF_STATUS)&&m&&!m.can_serve_ads())return d["dianomi-tcf"]&&console.log("context feed tcf debug, showing nothing due to can_serve_ads for context id",a.id),r.notify_context(a.host,a.id,O(d),s.NoPermissions),[2];!d["dianomi-tcf"]&&d.partner_tcf_status!=i.PARTNER_TCF_STATUS||null!==m||(d["dianomi-tcf"]&&console.log("context feed tcf debug, no tcf object for context id",a.id),r.notify_context(a.host,a.id,O(d),s.NoTcData)),w(c,null===(I=d.args)||void 0===I?void 0:I.styling),L=E(e),f(e,(function(){L=E(e)})),W=function(n){t.body.style.overflow="hidden",t.body.style.margin="0",G=t.createElement("div");var r={maxWidth:n.width||"650px",height:n.height||"auto",margin:"0 auto"};w(G,r),M(G,n,L),f(e,(function(){return M(G,n,L)})),k=O(d),c.appendChild(G);var s=t.createElement("div");s.style.borderBottom="1px solid #ccc",s.style.marginBottom="5px",s.style.position="relative",s.style.height="13px";var i=void 0!==d.user.country_code?"&geo_ccod=".concat(d.user.country_code):"";s.innerHTML="<a href='https://".concat(a.host,".dianomi.com/cms/whats-this/?utm.source=").concat(e.location.hostname,"&utm_medium=smartad_sponsor_link' target='_blank'> <span style='font-size: 10px;color: #748683; position: absolute; width: 125px; right: 0; font-family: helvetica, arial, sans-serif;'>Context Feed by <img src='https://www.dianomi.com/img/dianomi-max-200x38.png' alt='dianomi' style='width: 45px;height: auto; display: inline;'><img src='https://www.dianomi.com/cgi-bin/pixeltrack.pl?cf=").concat(encodeURIComponent(k)).concat(i,"'></span></a>"),c.appendChild(G);var o=t.createElement("link");if(o.setAttribute("rel","stylesheet"),o.setAttribute("type","text/css"),o.setAttribute("href","https://".concat(a.host,"/partner/dianomi/css/dianomi-context.css?v=1.1")),t.body.appendChild(o),d.header_html){var l=t.createElement("div");l.innerHTML=d.header_html,G.appendChild(l)}n.iframebuster&&("loading"==t.readyState?t.addEventListener("DOMContentLoaded",(function(){return x(n.iframebusterOptions)})):x(n.iframebusterOptions))},Y={video:(Se=yr((function(n){var r,s,i,o,c,u,h,E=arguments;return Rr(this,(function(I){return r=E.length>1&&void 0!==E[1]?E[1]:G,s=E.length>2&&void 0!==E[2]&&E[2],i=E.length>3&&void 0!==E[3]&&E[3],o=Math.floor(1e5*Math.random()),c="dianomi_video_".concat(n.id,"_").concat(o),u=t.createElement("div"),s&&(u.style.paddingRight=n.nativeRightPadding||"20px"),"left"===n.float&&(u.style.padding="0 15px 0 0"),u.id="dianomi-video-container-".concat(n.id,"-").concat(o),u.classList.add("dianomi_video"),s||(g(u,n,L),S(u,n,L,!0),f(e,(function(){S(u,n,L,!0),g(u,n,L)}))),r.appendChild(u),e[c]={args:n,context_id:a.id,dianomiContextHost:a.host,data:d,tcfPermissions:m,server_can_serve_ads:null==m?void 0:m.can_serve_ads(),server_can_cookie:null==m?void 0:m.can_cookie(),viewportWidth:L,dianomiContextAffiliate:a.affiliate,randomId:o,videoDebug:v.videoDebug,dianomiPageUrl:l,cf:k,isNative:s,isNativeResponsive:i,dvDivContainer:u,dianomiClickMacro:a.clickMacro,unitCount:_++,topProductId:a.topProductId},(h=t.createElement("script")).src="https://".concat(a.host,"/js/contextfeed/videofeed.js?v=").concat(p),h.id="dianomi_video_script",h.type="text/javascript",h.setAttribute("dianomi-variable-name",c),r.appendChild(h),e.addEventListener("message",(function(t){var n;"dianomi-parent-resize"===(null===(n=t.data)||void 0===n?void 0:n.type)&&T(e,"resize")})),[2]}))})),function(e){return Se.apply(this,arguments)}),smartad:function(){var r=yr((function(r){var s,c,u,p,I,v,O,T,y,C,w,D,R,M,x,F,B,j,W,Y,Q,z,K,$,q,J=arguments;return Rr(this,(function(X){switch(X.label){case 0:return s=J.length>1&&void 0!==J[1]?J[1]:G,c=J.length>2&&void 0!==J[2]&&J[2],u=J.length>3&&void 0!==J[3]&&J[3],r.inline?(p="https://".concat(a.host,"/smartads.epl?id=").concat(encodeURIComponent(r.id),"&callback=callback").concat(encodeURIComponent(r.id),"&return_as=callback%20function&returnAs=callback%20function"),(I=t.createElement("script")).setAttribute("src",p),e["callback".concat(r.id)]=function(e){var n="SMART HTML :".concat(e),r=t.getElementById("test");r&&(r.innerHTML=n)},(v=t.createElement("div")).classList.add("dianomiContent"),v.style.display="block",v.setAttribute("id","test"),s.appendChild(v),t.body.appendChild(I),[3,9]):[3,1];case 1:if(O=t.createElement("iframe"),T=r.numAds,y=r.numAdsRes)for(var Z in C=0,y)w=Number(Z),L>=w&&w>C&&(C=w,T=y[Z]);if(D=A(r,_++,d),R={numAds:T,cf:k,url:l,unitCount:_,unitId:D,isWaterfall:u,id:r.id,start:r.start,seed:r.seed,initId:r.initId,responsiveHeight:r.responsiveHeight,closeIfEmpty:r.closeIfEmpty,shuffle:r.shuffle,contentRendered:r.contentRendered,affiliate:a.affiliate,clickMacro:a.clickMacro,darkmodeOverride:a.darkmodeOverride,pageDomain:a.pageDomain,topProductId:a.topProductId,uspString:d.uspString,gppString:d.gppString,contextfeedFrameId:n},M={dianomiContextHost:a.host,tcfPermissions:m,server_can_serve_ads:(null==m?void 0:m.can_serve_ads())||null,server_can_cookie:(null==m?void 0:m.can_cookie())||null,data:d,params:R},x=function(e){var t=e.data,n=e.tcfPermissions,r=e.server_can_serve_ads,s=e.server_can_cookie,i=e.params,o="https://".concat(e.dianomiContextHost,"/smartads.epl");if(o+=P("id",i.id,!0),["numAds","start","seed","cf","uspString","gppString","affiliate","clickMacro","url","initId","unitId","closeIfEmpty","isWaterfall","responsiveHeight","topProductId","pageDomain","darkmodeOverride","contextfeedFrameId","contentRendered"].forEach((function(e){o+=P(e,i[e])})),"0"===i.shuffle&&(o+="&shuffle=0"),"2.0"==t.partner_tcf_status||t["dianomi-tcf"])if(n){o+="&gdpr_consent=".concat(n.gdpr_consent());var a=n.gdpr();o+="&gdpr=".concat(a),o+="&canServeAds=".concat(n.can_serve_ads(),"&canCookie=").concat(n.can_cookie())}else o+="&canServeAds=".concat(r,"&canCookie=").concat(s);return t.partner_tcf_status&&(o+="&partner_tcf_status=".concat(t.partner_tcf_status,"&partnerTcfStatus=").concat(t.partner_tcf_status)),o}(M),F=V(O,r,u,e),r.id&&(F.id=r.id),F.setAttribute("data-dianomi-unit-id",D),r.order&&(F.style.order=r.order),F.setAttribute("title","dianomi SmartAd Content ".concat(r.id,"-").concat(_)),F.classList.add("smartad_iframe"),!d.identity_values)return[3,7];(B=new FormData).append("postCall","true"),B.append("eids",JSON.stringify(d.identity_values)),X.label=2;case 2:return X.trys.push([2,5,,6]),[4,fetch(x,{credentials:"include",method:"POST",body:B})];case 3:return[4,X.sent().text()];case 4:return W=X.sent(),Y=!1,Q=function(){var e,t;Y||(Y=!0,e=W,null==(t=F.contentDocument)||t.open().write(e),null==t||t.close())},"complete"!==(null===(j=F.contentDocument)||void 0===j?void 0:j.readyState)?F.onload=function(){Q()}:Q(),[3,6];case 5:return z=X.sent(),console.log("Unable to retrieve Smartad",z),b(F,r,x),[3,6];case 6:return[3,8];case 7:b(F,r,x),X.label=8;case 8:K=!1,r.lazy&&r.lazy===i.LAZY_LOADING_ENABLED&&(N=!0,K=!0),c&&F.classList.add("dianomi-native-iframe"),c||function(e,t,n,r){var s=r.parent.innerWidth,i=E(r);S(e,t,i,!1,n),g(e,t,i),h(e,t,i),f(r,(function(){r.parent.innerWidth!==s&&(s=r.parent.innerWidth,i=E(r),t.responsiveHeight||h(e,t,i),S(e,t,i,!1,n),g(e,t,i))}))}(F,r,u,e),U(F,r),r.sticky===i.STICKY_AD?((q=o({frameWindow:e,frameDocument:t},a.host,r,n,null==d||null===($=d.user)||void 0===$?void 0:$.adchoices)).appendChild(O),(e.top||e).document.body.appendChild(q)):s.appendChild(F),K&&H(F,r.lazyRootMargin,r.lazyRootElement),c&&function(e,t,n){n.addEventListener("message",(function(n){var r,s,i=n.data;"dianomi-native-ad"===i.type&&(i.responsive?(null===(r=e.contentWindow)||void 0===r||r.postMessage({type:"dianomi-native-responsive",responsive:!0},"*"),e.style.width="100%"):(null===(s=e.contentWindow)||void 0===s||s.postMessage({type:"dianomi-native-responsive",responsive:!1},"*"),t.width&&(e.style.width=t.width)))}),!1)}(F,r,e),X.label=9;case 9:return[2]}}))}));return function(e){return r.apply(this,arguments)}}(),iframe:function(n){var r=t.createElement("iframe");n.src&&(r.setAttribute("data-src",n.src),r.setAttribute("src",n.src)),r.setAttribute("title","dianomi iframe Content"),h(r,n,L);var s=e.innerWidth;f(e,(function(){e.parent.innerWidth!==s&&(s=e.innerWidth,h(r,n,L))})),n.width&&(r.style.width=n.width),n.scrolling&&(r.style.overflow=n.scrolling),n.border&&(r.style.border=n.border),G.appendChild(r)},recirc:function(n){var r=t.createElement("iframe"),s=A(n,_++,d);r.setAttribute("data-dianomi-unit-id",s);var o="https://".concat(a.host,"/recirculation.epl?id=").concat(n.id,"&unitId=").concat(s);n.id&&(r.id=n.id),n.start&&(o+="&start=".concat(n.start)),n.seed&&(o+="&seed=".concat(Number(n.seed))),k&&(o+="&cf=".concat(encodeURIComponent(k))),l&&(o+="&url=".concat(encodeURIComponent(l)));var c=!1;n.lazy&&n.lazy===i.LAZY_LOADING_ENABLED?(N=!0,c=!0,r.className="lazy",r.setAttribute("data-src",o),r.style.minHeight="1px;"):r.setAttribute("src",o);var u="100%";n.width&&(u=n.width),r.style.width=u,r.setAttribute("title","dianomi Recirculation Content"),g(r,n,L),h(r,n,L),S(r,n,L);var p=e.innerWidth;f(e,(function(){e.parent.innerWidth!==p&&(p=e.parent.innerWidth,g(r,n,L),h(r,n,L),S(r,n,L))})),n.minWidth&&(r.style.minWidth=n.minWidth),r.style.border="none",r.style.overflow="hidden",U(r,n),G.appendChild(r),c&&H(r,n.lazyRootMargin,n.lazyRootElement)},googleTag:function(e){var n;(n=t.createElement("script")).async=!0,n.src="https://www.googletagservices.com/tag/js/gpt.js",t.head.appendChild(n);var r=t.createElement("div"),s=t.createElement("script"),o=t.createElement("script"),a="";e.tagID&&(r.id=e.tagID),e.padding&&(r.style.padding=e.padding),e.align&&(r.style.textAlign=e.align),e.minWidth&&(r.style.minWidth=e.minWidth),S(r,e,L),g(r,e,L),r.className="googleAdFrame",s.type="text/javascript",e.lazy&&e.lazy===i.LAZY_LOADING_ENABLED&&(a="googletag.pubads().enableLazyLoad({fetchMarginPercent: 100,renderMarginPercent: 80,mobileScaling: 1.5}); ",r.style.minHeight="1px"),s.text=" window.googletag = window.googletag || {cmd: []}; googletag.cmd.push(function() {googletag.defineSlot('".concat(e.slot,"', [").concat(e.sizes,"], '").concat(e.tagID,"').addService(googletag.pubads()); ").concat(a," googletag.enableServices(); });"),o.type="text/javascript",o.text=" googletag.cmd.push(function() { googletag.display('".concat(e.tagID,"');});"),t.head.appendChild(s),G.appendChild(r),r.appendChild(o)}},Q={},d.args&&(Q=d.args),W(Q),z=e.parent.location.hostname,K=d.user.country_code,$=R(d.units),q=$.units,$.responsiveHeight&&e.addEventListener("message",(function(n){if("string"==typeof n.data&&n.origin.includes("dianomi.com")){var r=n.data.split("-");if(/\d{1,4}-\d{1,6}/.test(n.data)){var s=r[0],i=r[1];if(Number(i))for(var o=t.querySelectorAll("[data-dianomi-unit-id^=dianomi-".concat(i,"]")),a=0;a<o.length;a++)o[a].style.height="".concat(s,"px"),T(e,"resize")}if(/\d{1,4}-([a-z])\w+-\d{1,6}-/.test(n.data))for(var c=t.querySelectorAll("IFRAME"),l=0;l<c.length;l++){var u=c[l],d=r[0];if(u.getAttribute("data-dianomi-unit-id")==="dianomi-".concat(r[2],"-").concat(r[3])){T(e,"resize"),u.style.height="".concat(d,"px");break}}}else if(n.data&&"object"==typeof n.data&&"__dianomiResponsiveHeight"in n.data){var p=n.data.__dianomiResponsiveHeight,h=p.frameId,S=p.height;if(Number(h))for(var g=t.querySelectorAll("[data-dianomi-unit-id^=dianomi-".concat(h,"]")),E=0;E<g.length;E++)g[E].style.height="".concat(S,"px"),T(e,"resize")}}),!1),N&&function(){for(var e=B((function(){return F()}),{threshold:1}),n=t.querySelectorAll(".dianomiLazy"),r=0;r<n.length;r++){var s=n[r];j(s,e,!1),j(s,e,!0)}}(),J=!0,X=!1,Z=void 0,ue.label=1;case 1:ue.trys.push([1,15,16,17]),ee=Object.entries(q)[Symbol.iterator](),ue.label=2;case 2:return(J=(te=ee.next()).done)?[3,14]:(pe=te.value,he=2,ne=function(e){if(Array.isArray(e))return e}(pe)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(e){a=!0,s=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw s}}return i}}(pe,he)||function(e,t){if(e){if("string"==typeof e)return Tr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tr(e,t):void 0}}(pe,he)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),re=ne[0],se=ne[1],C("cfWaterfall",ie=se)?(function(r){var s,i=r.units,c=r.closeIfEmpty,l=void 0===c?null:c,p=r.closeUnitIfEmpty,S=void 0===p?null:p,g=r.sticky,E=void 0===g?null:g,f=Math.floor(1e6*Math.random()),_=R(i).units,m=Object.keys(_);function I(){var s;return s=function(s){var i,c,u,p,g,I;return Rr(this,(function(v){switch(v.label){case 0:i=null,c="waterfall-".concat(f),v.label=1;case 1:return 0===s?E?(p=o({frameWindow:e,frameDocument:t},a.host,r,n,null==d||null===(u=d.user)||void 0===u?void 0:u.adchoices),(e.top||e).document.body.appendChild(p),i=p):(i=t.createElement("div"),G.append(i),i.id=c):i&&(i.innerHTML=""),g=m[s],void 0!==(I=_[g])&&i?[4,Cr(de(I,i))]:[2];case 2:return v.sent(),s++,[4];case 3:if(v.sent())return[2];if(s===m.length&&y(["smartad","video"],I)){if("1"===l)return I.args.height="0",h(i,I.args,L),T(e,"resize"),[2];if("1"===S)return I.args.height="0",h(i,I.args,L),T(e,"collapse",D),[2]}return[3,1];case 4:return[2]}}))},I=function(){return new Nr(s.apply(this,arguments))},I.apply(this,arguments)}u=function(e){return I.apply(this,arguments)}(0),e.addEventListener("message",(function(e){var t,n;"dianomi-waterfall"===(null===(t=e.data)||void 0===t?void 0:t.type)&&(null==u||null===(n=u.next)||void 0===n||n.call(u,e.data.adServed))}),!1),null==u||null===(s=u.next)||void 0===s||s.call(u)}(ie),[3,13]):C("native",ie)?(oe=d[re]||{},[4,le(ie.units,oe,re.split("-")[1])]):[3,4]);case 3:return ue.sent(),[3,13];case 4:if(C("passback",ie)||!ce(ie,"domain",z)||!ce(ie,"country_code",K))return[3,13];switch(C("googleTag",ie)||C("iframe",ie)||!ie.seed||(ie.args=Dr(Pr({},ie.args),{seed:ie.seed})),ie.type){case"smartad":return[3,5];case"recirc":return[3,7];case"video":return[3,8];case"googleTag":return[3,10];case"iframe":return[3,11]}return[3,12];case 5:return[4,Y.smartad(ie.args)];case 6:return ue.sent(),[3,13];case 7:return Y.recirc(ie.args),[3,13];case 8:return[4,Y.video(ie.args)];case 9:return ue.sent(),[3,13];case 10:return Y.googleTag(ie.args),[3,13];case 11:return Y.iframe(ie.args),[3,13];case 12:throw new Error("Dianomi: Unknown unit type ".concat(ie.type,". Check the unit type in the YAML file. Must be one of the following: smartad, recirc, video, googleTag, iframe, cfWaterfall"));case 13:return J=!0,[3,2];case 14:return[3,17];case 15:return ae=ue.sent(),X=!0,Z=ae,[3,17];case 16:try{J||null==ee.return||ee.return()}finally{if(X)throw Z}return[7];case 17:return(d.partner_tcf_status==i.PARTNER_TCF_STATUS||d["dianomi-tcf"])&&c.setAttribute("data-dianomi-context-loaded",i.CONTEXT_LOADED),xr.stop("cf-loading-".concat(n)),[2]}var pe,he,Se,ge}))})),L.apply(this,arguments)}function M(e,t,n){t.mobileDisplay&&n<480?e.style.display=t.mobileDisplay:e.style.display="block"}function U(e,t){t.display?e.style.display=t.display:e.style.display="block"}function x(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.parent.postMessage({type:"dianomi-iframebuster",options:t},"*")}function G(e){return k.apply(this,arguments)}function k(){return k=yr((function(n){var r,s,o,u,p,h,S,g,E,f,_,O,T,A,y,C,b,w;return Rr(this,(function(P){switch(P.label){case 0:return s=function(e,t){var n={},r=!0,s=!1,i=void 0;try{for(var o,a=Object.entries(t)[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var l=c(o.value,2),u=l[0],d=l[1],p="string"==typeof d,h=e.getAttribute(p?d:d.attribute);n[u]=p?h:N(h,d)}}catch(e){s=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(s)throw i}}return n}(n,d),o=s.id,u=s.done,p=s.host,h=s.endpoint,S=s.cfTest,g=s.trafficSource,u===i.CONTEXT_LOADED?[2]:"string"!=typeof s.id?(console.log("Couldn't find data-dianomi-context-id",n),[2]):(function(e,t){var n,r=e.split(".")[0],s=new URLSearchParams(t.location.search);for(n in v){var i=s.get(n)||("dev"===r).toString();if("videoDebug"===n){var o=parseInt(i);v[n]=isNaN(o)?"dev"===r?I:m:o}}}(p,e),E="https://".concat(p,"/cgi-bin/").concat(h,"?id=").concat(o),"dev.dianomi.com"===p&&(E+="&test=".concat(Date.now())),S&&(E+="&dianomitest=".concat(S)),g&&(E+="&trafficSource=".concat(g)),function(e){try{var t=decodeURIComponent(e);return"null"!==new URL(t).origin}catch(e){return!1}}(f=function(e){var t,n=e.frameWindow,r=e.frameDocument,s=null===(t=r.querySelectorAll(".dianomi_context")[0])||void 0===t?void 0:t.getAttribute("data-referrer-url"),i=n.location!=n.parent.location?r.referrer||n.parent.location.href:r.location.href;return s||i}({frameWindow:e,frameDocument:t}))&&(_=f.split("/")[2],E+="&h=".concat(encodeURIComponent(_),"&url=").concat(encodeURIComponent(f)),l=f),s.pageDomain&&(E+="&pageDomain=".concat(encodeURIComponent(s.pageDomain))),new URLSearchParams(e.location.search).get("debug")&&(E+="&debug=1"),[4,fetch(E,{credentials:"include"})]);case 1:return(O=P.sent()).ok?[4,O.json()]:[2];case 2:return T=P.sent(),-1!=t.location.hostname.indexOf("exedra.dianomi.com")&&(T.partner_tcf_status="0"),(null==T||null===(r=T.user)||void 0===r?void 0:r.tcfDebug)>0&&(v.tcfDebug=null==T||null===(A=T.user)||void 0===A?void 0:A.tcfDebug),Or(p,{adId:o||(null==T?void 0:T.cfid),uniqueId:null==T?void 0:T.unique_id},"contextfeed"),a&&T.user.can_cookie&&T.user.can_serve_ads?(null==T?void 0:T.identity)?[4,Xt({identity:T.identity,dianomiContextHost:s.host,tcfPermissions:a,inGDPR:1===(null==T||null===(y=T.user)||void 0===y?void 0:y.in_gdpr),dnt:1===(null==T||null===(C=T.user)||void 0===C?void 0:C.dnt)},{frameWindow:e,frameDocument:t})]:[3,4]:[3,10];case 3:T.identity_values=P.sent(),P.label=4;case 4:return T.gpp?[4,pr(e)]:[3,6];case 5:(null==(b=P.sent())?void 0:b.tcf)&&(s.consent=b.tcf),(null==b?void 0:b.usp)&&(T.uspString=b.usp),P.label=6;case 6:return!T.usp||T.uspString?[3,8]:[4,nn(e)];case 7:w=P.sent(),T.uspString=w,P.label=8;case 8:return[4,D(s,n,T,a)];case 9:return P.sent(),[3,12];case 10:return[4,_r(s,n,T,{frameWindow:e,frameDocument:t},D)];case 11:P.sent(),P.label=12;case 12:return n.setAttribute("data-dianomi-context-done",i.CONTEXT_LOADED),[2]}}))})),k.apply(this,arguments)}function F(){var e=t.querySelectorAll(".dianomi_context"),n=!0,r=!1,s=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0)G(i.value)}catch(e){r=!0,s=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw s}}}function H(t,n,r){var s=B((function(n){n.forEach((function(n){n.isIntersecting&&(function(e){var t=e.target;if("IFRAME"===t.tagName){var n=t.getAttribute("data-src")||"";n&&(t.src=n,t.classList.add("loaded"))}}(n),j(t,s,!1),T(e,"resize"))}))}),{threshold:0,rootMargin:"".concat(null!=n?n:i.LAZY_LOADING_ROOT_MARGIN,"px"),root:r?Y(t,r):null});j(t,s,!0)}function B(e){return new IntersectionObserver(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{threshold:0})}function j(e,t,n){n?t.observe(e):t.unobserve(e)}var W=function(e,t){return!!t&&("#"===e[0]?t.id.includes(e.substring(1)):t.className.includes(e.substring(1)))};function Y(t,n){return"body"===(null==t?void 0:t.tagName.toLowerCase())&&e.top===e?null:"body"===(null==t?void 0:t.tagName.toLowerCase())?Y(e.frameElement,n):W(n,t)?t:t?Y(t.parentElement,n):null}return{dianomiLoadContext:D,dianomiContextElement:G,reloadFrameContext:F,waterfallAdServed:function(e){u.next(e)}}}function Lr(e,t,n,r,s,i,o){try{var a=e[i](o),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,s)}function Mr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}"function"==typeof Symbol&&Symbol.asyncIterator&&(Nr.prototype[Symbol.asyncIterator]=function(){return this}),Nr.prototype.next=function(e){return this._invoke("next",e)},Nr.prototype.throw=function(e){return this._invoke("throw",e)},Nr.prototype.return=function(e){return this._invoke("return",e)};var Ur="dianomiPerformance=1",xr=function(){var e={},t={start:function(t){e[t]&&console.error("Tracker name: ".concat(t," already in use. Overwriting.")),e[t]={start:performance.now()}},stop:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e[t];if(r){var s=performance.now()-r.start,i=n?", ".concat(n):"";console.log("*** ".concat(t," performance = ").concat(s.toFixed(2)," ").concat(i," ***"))}else console.error("Tracker name: ".concat(t," not started. Ignoring."))}};return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?t:{start:function(){},stop:function(){}}}(function(){try{var e;return(null===(e=window.top)||void 0===e?void 0:e.location.search.includes(Ur))||window.location.search.includes(Ur)}catch(e){return window.location.search.includes(Ur)}}()||!1),Gr="data-dianomi-context-id",kr="data-dianomi-complete",Fr="data-dianomi-parent-iframe-id",Hr={context:".dianomi_context",childContext:".dianomi-context",parentIframe:".dianomi-parent-iframe",contextWrapper:"dianomi-context-wrapper"},Br=function(e){return e.startsWith(".")||e.startsWith("#")?e.substring(1):e},jr={};function Wr(){var e=document.querySelectorAll(Hr.context),t=!0,n=!1,r=void 0;try{for(var s,i=function(){var e,t=s.value,n=Number(t.getAttribute(Gr)),r=t.getElementsByClassName(Br(Hr.parentIframe)).length>0,i="1"===t.getAttribute(kr);if(!n||i&&r)return"continue";var o="".concat(n,"-").concat(Math.round(1e3*Math.random()));xr.start("cf-loading-".concat(o));var a=function(e){var t=document.createElement("iframe");return t.classList.add(Br(Hr.parentIframe)),t.title="Dianomi ad container (".concat(e,")"),t.id=e,t.style.width="100%",t.style.overflow="hidden",t.style.border="none",t}(o);t.appendChild(a);var c=function(e,t){var n=document.createElement("div");n.classList.add(Br(Hr.childContext)),n.id=Hr.contextWrapper,n.setAttribute(Fr,t);var r=document.createElement("div");return r.classList.add("dianomi_context"),p.forEach((function(t){var n=e.getAttribute(t);n&&r.setAttribute(t,n)})),n.appendChild(r),n}(t,o);"complete"!==(null===(e=a.contentDocument)||void 0===e?void 0:e.readyState)?a.onload=function(){Yr(a,c,o)}:Yr(a,c,o),t.setAttribute(kr,"1"),window.addEventListener("message",$r)},o=e[Symbol.iterator]();!(t=(s=o.next()).done);t=!0)i()}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}function Yr(e,t,n){return Qr.apply(this,arguments)}function Qr(){var e;return e=function(e,t,n){var r,s,i,o,a;return function(e,t){var n,r,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&i[0]?r.return:i[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch(r=0,s&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){o.label=i[1];break}if(6===i[0]&&o.label<s[1]){o.label=s[1],s=i;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(i);break}s[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(c){switch(c.label){case 0:return(r=e.contentDocument)?((s=r.body).appendChild(t),s.style.overflow="hidden",[4,it(!0,!0,D(),!0)]):[2];case 1:return i=c.sent(),o=e.contentWindow,a=Vr(o,r,n,i),jr[n]=a,a.reloadFrameContext(),l=setInterval((function(){return qr()}),100),setTimeout((function(){clearInterval(l)}),5e3),[2]}var l}))},Qr=function(){var t=this,n=arguments;return new Promise((function(r,s){var i=e.apply(t,n);function o(e){Lr(i,r,s,o,a,"next",e)}function a(e){Lr(i,r,s,o,a,"throw",e)}o(void 0)}))},Qr.apply(this,arguments)}var zr={"dianomi-parent-resize":function(){return qr()},"dianomi-iframebuster":function(e){return function(){var e=0,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Mr(e,t,n[t])}))}return e}({},Xr,arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xr),n=window.setInterval((function(){if(window.frameElement){var r=window.parent.document.getElementById(window.frameElement.id);if(r&&"IFRAME"===r.tagName&&r.contentWindow===window){r.style.width=t.width,r.style.display=t.display;var s=document.body.scrollHeight;r.style.height="".concat(t.additionalBodyHeight+s,"px")}}10==++e&&window.clearInterval(n)}),1e3)}(e.options)},"dianomi-parent-collapse":function(e){return t=e.frameId,void((n=document.getElementById(t))&&n.remove());var t,n},"dianomi-waterfall":function(e){var t=null==e?void 0:e.cfid,n=jr[t];n&&n.waterfallAdServed(e.adServed)}},Kr=Object.keys(zr);function $r(e){var t,n=null===(t=e.data)||void 0===t?void 0:t.type;n&&Kr.includes(n)&&zr[n](e.data)}function qr(){var e=document.querySelectorAll(Hr.parentIframe),t=!0,n=!1,r=void 0;try{for(var s,i=e[Symbol.iterator]();!(t=(s=i.next()).done);t=!0){var o=s.value,a=0,c=o.contentDocument,l=null==c?void 0:c.getElementById(Hr.contextWrapper);if(l)a=l.scrollHeight;else{var u,d=null==c?void 0:c.body;a=null!==(u=null==d?void 0:d.scrollHeight)&&void 0!==u?u:0}o.height="".concat(a,"px")}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}var Jr,Xr={width:"100%",display:"block",additionalBodyHeight:20};Jr=Wr,"loading"!==document.readyState?Jr():document.addEventListener("DOMContentLoaded",(function(){Jr()})),window.dianomiReloadContext=function(){return Wr()}})();